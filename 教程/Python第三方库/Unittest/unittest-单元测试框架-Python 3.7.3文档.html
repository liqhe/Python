<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0047)https://docs.python.org/3/library/unittest.html -->
<html xmlns="http://www.w3.org/1999/xhtml" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    
    <title>unittest  - 单元测试框架 -  Python 3.7.3文档</title>
    <link rel="stylesheet" href="./unittest-单元测试框架-Python 3.7.3文档_files/pydoctheme.css" type="text/css">
    <link rel="stylesheet" href="./unittest-单元测试框架-Python 3.7.3文档_files/pygments.css" type="text/css">
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="./unittest-单元测试框架-Python 3.7.3文档_files/documentation_options.js"></script>
    <script type="text/javascript" src="./unittest-单元测试框架-Python 3.7.3文档_files/jquery.js"></script>
    <script type="text/javascript" src="./unittest-单元测试框架-Python 3.7.3文档_files/underscore.js"></script>
    <script type="text/javascript" src="./unittest-单元测试框架-Python 3.7.3文档_files/doctools.js"></script>
    <script type="text/javascript" src="./unittest-单元测试框架-Python 3.7.3文档_files/language_data.js"></script>
    
    <script type="text/javascript" src="./unittest-单元测试框架-Python 3.7.3文档_files/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml" title="在Python 3.7.3文档中搜索" href="https://docs.python.org/3/_static/opensearch.xml">
    <link rel="author" title="关于这些文件" href="https://docs.python.org/3/about.html">
    <link rel="index" title="指数" href="https://docs.python.org/3/genindex.html">
    <link rel="search" title="搜索" href="https://docs.python.org/3/search.html">
    <link rel="copyright" title="版权" href="https://docs.python.org/3/copyright.html">
    <link rel="next" title="unittest.mock  - 模拟对象库" href="https://docs.python.org/3/library/unittest.mock.html">
    <link rel="prev" title="doctest  - 测试交互式Python示例" href="https://docs.python.org/3/library/doctest.html">
    <link rel="shortcut icon" type="image/png" href="./unittest-单元测试框架-Python 3.7.3文档_files/py.png">
    <link rel="canonical" href="https://docs.python.org/3/library/unittest.html">
    
    <script type="text/javascript" src="./unittest-单元测试框架-Python 3.7.3文档_files/copybutton.js"></script>
    <script type="text/javascript" src="./unittest-单元测试框架-Python 3.7.3文档_files/switchers.js"></script>
    
    
    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
 

  <link type="text/css" rel="stylesheet" charset="UTF-8" href="./unittest-单元测试框架-Python 3.7.3文档_files/translateelement.css"></head><body>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导航</font></font></h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="https://docs.python.org/3/genindex.html" title="一般指数" accesskey="I"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指数</font></font></a></li>
        <li class="right">
          <a href="https://docs.python.org/3/py-modindex.html" title="Python模块索引"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> |</font></font></li>
        <li class="right">
          <a href="https://docs.python.org/3/library/unittest.mock.html" title="unittest.mock  - 模拟对象库" accesskey="N"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> |</font></font></li>
        <li class="right">
          <a href="https://docs.python.org/3/library/doctest.html" title="doctest  - 测试交互式Python示例" accesskey="P"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一个</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> |</font></font></li>
        <li><img src="./unittest-单元测试框架-Python 3.7.3文档_files/py.png" alt="" style="vertical-align: middle; margin-top: -1px"></li>
        <li><a href="https://www.python.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li>
        <li>
          <span class="language_switcher_placeholder"><select><option value="en" selected="selected"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">英语</font></font></option><option value="fr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">法国</font></font></option><option value="ja"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日本</font></font></option><option value="ko"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">朝鲜的</font></font></option></select></span>
          <span class="version_switcher_placeholder"><select><option value="3.8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发（3.8）</font></font></option><option value="3.7" selected="selected"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.7.3</font></font></option><option value="3.6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6</font></font></option><option value="3.5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5</font></font></option><option value="2.7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7</font></font></option></select></span>
          <a href="https://docs.python.org/3/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »
        </font></font></li>

          <li class="nav-item nav-item-1"><a href="https://docs.python.org/3/library/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python标准库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li>
          <li class="nav-item nav-item-2"><a href="https://docs.python.org/3/library/development.html" accesskey="U"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发工具</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li>
    <li class="right">
        

    <div class="inline-search" style="" role="search">
        <form class="inline-search" action="https://docs.python.org/3/search.html" method="get">
          <input placeholder="Quick search" type="text" name="q">
          <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><input type="submit" value="走"></font></font>
          <input type="hidden" name="check_keywords" value="yes">
          <input type="hidden" name="area" value="default">
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         |
    </font></font></li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-unittest">
<span id="unittest-unit-testing-framework"></span><h1><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 单元测试框架</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源代码：</font></font></strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.7/Lib/unittest/__init__.py"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lib / unittest / __ init__.py</font></font></a></p>
<hr class="docutils">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（如果您已经熟悉测试的基本概念，则可能需要跳到</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#assert-methods"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">断言方法列表</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单元测试框架最初是由JUnit的启发，也有类似的味道在其他语言主要单元测试框架。</font><font style="vertical-align: inherit;">它支持测试自动化，共享测试的设置和关闭代码，将测试聚合到集合中，以及测试与报告框架的独立性。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为此，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以面向对象的方式支持一些重要的概念：</font></font></p>
<dl class="docutils">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试夹具</font></font></dt>
<dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甲</font></font><em class="dfn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试夹具</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示执行一个或多个测试，以及任何相联清除动作所需要的制剂。</font><font style="vertical-align: inherit;">这可能涉及，例如，创建临时或代理数据库，目录或启动服务器进程。</font></font></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试用例</font></font></dt>
<dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甲</font></font><em class="dfn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试用例</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是测试的各个单元。</font><font style="vertical-align: inherit;">它检查对特定输入集的特定响应。  </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了一个基类，
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用于创建新的测试用例。</font></font></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试套件</font></font></dt>
<dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个</font></font><em class="dfn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试套件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是测试案例，测试套件，或两者的集合。</font><font style="vertical-align: inherit;">它用于聚合应该一起执行的测试。</font></font></dd>
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">试验跑步者</font></font></dt>
<dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甲</font></font><em class="dfn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试运行</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是编排的测试的执行，并提供结果给用户的部件。</font><font style="vertical-align: inherit;">跑步者可以使用图形界面，文本界面，或返回特殊值来指示执行测试的结果。</font></font></dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以看看</font></font></p>
<dl class="docutils">
<dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模 </font></font><a class="reference internal" href="https://docs.python.org/3/library/doctest.html#module-doctest" title="doctest：在docstrings中测试代码片段。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">doctest</span></code></a></dt>
<dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另一种具有非常不同风味的测试支持模块。</font></font></dd>
<dt><a class="reference external" href="https://web.archive.org/web/20150315073817/http://www.xprogramming.com/testfram.htm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简单的Smalltalk测试：使用模式</font></font></a></dt>
<dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kent Beck关于使用共享模式测试框架的原始论文</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></dd>
<dt><a class="reference external" href="https://nose.readthedocs.io/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鼻子</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="reference external" href="https://docs.pytest.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pytest</font></font></a></dt>
<dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第三方单元测试框架，具有较轻的语法，用于编写测试。</font><font style="vertical-align: inherit;">例如，</font><font style="vertical-align: inherit;">。</font></font><code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">func(10)</span> <span class="pre">==</span> <span class="pre">42</span></code><font style="vertical-align: inherit;"></font></dd>
<dt><a class="reference external" href="https://wiki.python.org/moin/PythonTestingToolsTaxonomy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python测试工具分类</font></font></a></dt>
<dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">广泛的Python测试工具列表，包括功能测试框架和模拟对象库。</font></font></dd>
<dt><a class="reference external" href="http://lists.idyll.org/listinfo/testing-in-python"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Python邮件列表中测试</font></font></a></dt>
<dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python中用于讨论测试和测试工具的特殊兴趣小组。</font></font></dd>
</dl>
<p class="last"><font style="vertical-align: inherit;"></font><code class="file docutils literal notranslate"><span class="pre">Tools/unittestgui/unittestgui.py</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python源代码发行版中</font><font style="vertical-align: inherit;">的脚本</font><font style="vertical-align: inherit;">是用于测试发现和执行的GUI工具。</font><font style="vertical-align: inherit;">这主要是为了便于那些刚接触单元测试的人使用。</font><font style="vertical-align: inherit;">对于生产环境，建议测试由</font></font><a class="reference external" href="https://buildbot.net/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buildbot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="reference external" href="https://jenkins.io/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jenkins</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
或   </font></font><a class="reference external" href="http://hudson-ci.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hudson</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等持续集成系统驱动
 </font><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="section" id="basic-example">
<span id="unittest-minimal-example"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本的例子</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#basic-example" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块提供了一组丰富的工具，用于构建和运行测试。</font><font style="vertical-align: inherit;">本节演示了一小部分工具足以满足大多数用户的需求。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个测试三个字符串方法的简短脚本：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unittest</span>

<span class="k">class</span> <span class="nc">TestStringMethods</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_upper</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s1">'foo'</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="s1">'FOO'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_isupper</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s1">'FOO'</span><span class="o">.</span><span class="n">isupper</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="s1">'Foo'</span><span class="o">.</span><span class="n">isupper</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_split</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">'hello world'</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="p">[</span><span class="s1">'hello'</span><span class="p">,</span> <span class="s1">'world'</span><span class="p">])</span>
        <span class="c1"># check that s.split fails when the separator is not a string</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过子类化创建测试用例</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用名称以字母开头的方法定义三个单独的测试
 </font></font><code class="docutils literal notranslate"><span class="pre">test</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此命名约定通知测试运行器哪些方法代表测试。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每次测试的关键是要求</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查预期结果; </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue" title="unittest.TestCase.assertTrue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertTrue()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertFalse" title="unittest.TestCase.assertFalse"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertFalse()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
核实情况; </font><font style="vertical-align: inherit;">或</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises" title="unittest.TestCase.assertRaises"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaises()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">验证是否引发了特定异常。</font><font style="vertical-align: inherit;">使用这些方法代替
 </font></font><a class="reference internal" href="https://docs.python.org/3/reference/simple_stmts.html#assert"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">assert</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句，以便测试运行器可以累积所有测试结果并生成报告。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown" title="unittest.TestCase.tearDown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tearDown()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法允许你定义将在每次测试方法之后执行的指令。</font><font style="vertical-align: inherit;">它们在</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#organizing-tests"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织测试代码</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一节中有更详细的介绍</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后一个块显示了运行测试的简单方法。</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.main" title="unittest.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">unittest.main()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为测试脚本提供命令行界面。</font><font style="vertical-align: inherit;">从命令行运行时，上面的脚本会生成如下所示的输出：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="o">----------------------------------------------------------------------</span>
<span class="n">Ran</span> <span class="mi">3</span> <span class="n">tests</span> <span class="ow">in</span> <span class="mf">0.000</span><span class="n">s</span>

<span class="n">OK</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将</font></font><code class="docutils literal notranslate"><span class="pre">-v</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">传递</font><font style="vertical-align: inherit;">给测试脚本将指示</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.main" title="unittest.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">unittest.main()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
启用更高级别的详细程度，并生成以下输出：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">test_isupper</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">TestStringMethods</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_split</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">TestStringMethods</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_upper</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">TestStringMethods</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>

<span class="o">----------------------------------------------------------------------</span>
<span class="n">Ran</span> <span class="mi">3</span> <span class="n">tests</span> <span class="ow">in</span> <span class="mf">0.001</span><span class="n">s</span>

<span class="n">OK</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以上示例显示了最常用的</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能，足以满足许多日常测试需求。</font><font style="vertical-align: inherit;">本文档的其余部分探讨了第一原则的完整功能集。</font></font></p>
</div>
<div class="section" id="command-line-interface">
<span id="unittest-command-line-interface"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行界面</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#command-line-interface" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以从命令行使用unittest模块从模块，类甚至单独的测试方法运行测试：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="n">test_module1</span> <span class="n">test_module2</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="n">test_module</span><span class="o">.</span><span class="n">TestClass</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="n">test_module</span><span class="o">.</span><span class="n">TestClass</span><span class="o">.</span><span class="n">test_method</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用模块名称和完全限定的类或方法名称的任意组合传递列表。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试模块也可以通过文件路径指定：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="n">tests</span><span class="o">/</span><span class="n">test_something</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这允许您使用shell文件名完成来指定测试模块。</font><font style="vertical-align: inherit;">指定的文件仍必须可作为模块导入。</font><font style="vertical-align: inherit;">通过删除“.py”并将路径分隔符转换为“。”，将路径转换为模块名称。</font><font style="vertical-align: inherit;">如果要执行不可作为模块导入的测试文件，则应直接执行该文件。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以通过传入-v标志来运行具有更多详细信息（更高详细程度）的测试：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="o">-</span><span class="n">v</span> <span class="n">test_module</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在没有参数的情况下执行</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest-test-discovery"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Test Discovery</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关所有命令行选项的列表：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中已更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在早期版本中，只能运行单独的测试方法，而不能运行模块或类。</font></font></p>
</div>
<div class="section" id="command-line-options">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行选项</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#command-line-options" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><strong class="program"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unittest</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持以下命令行选项：</font></font></p>
<dl class="cmdoption">
<dt id="cmdoption-unittest-b">
<code class="descname">-b</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--buffer</code><code class="descclassname"></code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-b" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在测试运行期间缓冲标准输出和标准错误流。</font><font style="vertical-align: inherit;">通过测试期间的输出被丢弃。</font><font style="vertical-align: inherit;">输出在测试失败或错误时正常回显，并添加到失败消息中。</font></font></p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-unittest-c">
<code class="descname">-c</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--catch</code><code class="descclassname"></code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-c" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><kbd class="kbd docutils literal notranslate">Control-C</kbd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在测试运行期间等待当前测试结束，然后报告所有结果到目前为止。</font><font style="vertical-align: inherit;">第二个</font></font><kbd class="kbd docutils literal notranslate">Control-C</kbd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引发正常
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt" title="一个KeyboardInterrupt"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">提供此功能的功能，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#signal-handling"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信号处理</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-unittest-f">
<code class="descname">-f</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--failfast</code><code class="descclassname"></code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-f" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在第一次错误或失败时停止测试运​​行。</font></font></p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-unittest-k">
<code class="descname">-k</code><code class="descclassname"></code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-k" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅运行与模式或子字符串匹配的测试方法和类。</font><font style="vertical-align: inherit;">此选项可以多次使用，在这种情况下，包括与给定模式匹配的所有测试用例。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含通配符（</font></font><code class="docutils literal notranslate"><span class="pre">*</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的模式与测试名称匹配使用</font></font><a class="reference internal" href="https://docs.python.org/3/library/fnmatch.html#fnmatch.fnmatchcase" title="fnmatch.fnmatchcase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fnmatch.fnmatchcase()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">否则使用简单的区分大小写的子串匹配。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式与测试加载程序导入的完全限定的测试方法名称匹配。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，</font><font style="vertical-align: inherit;">相匹配</font><font style="vertical-align: inherit;">，
 </font><font style="vertical-align: inherit;">而不是</font><font style="vertical-align: inherit;">。</font></font><code class="docutils literal notranslate"><span class="pre">-k</span> <span class="pre">foo</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">foo_tests.SomeTest.test_something</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">bar_tests.SomeTest.test_foo</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">bar_tests.FooTest.test_something</span></code><font style="vertical-align: inherit;"></font></p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-unittest-locals">
<code class="descname">--locals</code><code class="descclassname"></code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-locals" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在回溯中显示局部变量。</font></font></p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行选项</font></font><code class="docutils literal notranslate"><span class="pre">-b</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="docutils literal notranslate"><span class="pre">-c</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并</font></font><code class="docutils literal notranslate"><span class="pre">-f</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已添加。</font></font></p>
</div>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5版中的新功能：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行选项</font></font><code class="docutils literal notranslate"><span class="pre">--locals</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.7版中的新功能：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行选项</font></font><code class="docutils literal notranslate"><span class="pre">-k</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行还可用于测试发现，用于运行项目中的所有测试或仅运行子集。</font></font></p>
</div>
</div>
<div class="section" id="test-discovery">
<span id="unittest-test-discovery"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试发现</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#test-discovery" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unittest支持简单的测试发现。</font><font style="vertical-align: inherit;">为了与测试发现兼容，所有测试文件必须是</font><font style="vertical-align: inherit;">可从项目的顶级目录导入的</font></font><a class="reference internal" href="https://docs.python.org/3/tutorial/modules.html#tut-modules"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
 </font></font><a class="reference internal" href="https://docs.python.org/3/tutorial/modules.html#tut-packages"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（包括</font></font><a class="reference internal" href="https://docs.python.org/3/glossary.html#term-namespace-package"><span class="xref std std-term"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名空间包</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）（这意味着它们的文件名必须是有效的</font></font><a class="reference internal" href="https://docs.python.org/3/reference/lexical_analysis.html#identifiers"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标识符</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试发现在实现中</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.discover" title="unittest.TestLoader.discover"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestLoader.discover()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但也可以从命令行使用。</font><font style="vertical-align: inherit;">基本命令行用法是：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">project_directory</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="n">discover</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为捷径，</font><font style="vertical-align: inherit;">相当于
 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果要将参数传递给测试发现，则</font><font style="vertical-align: inherit;">必须显式使用子命令。</font></font><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">unittest</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">unittest</span> <span class="pre">discover</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">discover</span></code><font style="vertical-align: inherit;"></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code class="docutils literal notranslate"><span class="pre">discover</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子命令具有以下选项：</font></font></p>
<dl class="cmdoption">
<dt id="cmdoption-unittest-discover-v">
<code class="descname">-v</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--verbose</code><code class="descclassname"></code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-discover-v" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">详细输出</font></font></p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-unittest-discover-s">
<code class="descname">-s</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--start-directory</code><code class="descclassname"> directory</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-discover-s" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动发现的目录（</font></font><code class="docutils literal notranslate"><span class="pre">.</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认）</font></font></p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-unittest-discover-p">
<code class="descname">-p</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--pattern</code><code class="descclassname"> pattern</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-discover-p" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匹配测试文件的模式（</font></font><code class="docutils literal notranslate"><span class="pre">test*.py</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认）</font></font></p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-unittest-discover-t">
<code class="descname">-t</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--top-level-directory</code><code class="descclassname"> directory</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-discover-t" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目的顶级目录（默认为启动目录）</font></font></p>
</dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-discover-s"><code class="xref std std-option docutils literal notranslate"><span class="pre">-s</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-discover-p"><code class="xref std std-option docutils literal notranslate"><span class="pre">-p</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-discover-t"><code class="xref std std-option docutils literal notranslate"><span class="pre">-t</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项可以通过在如按顺序位置参数。</font><font style="vertical-align: inherit;">以下两个命令行是等效的：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="n">discover</span> <span class="o">-</span><span class="n">s</span> <span class="n">project_directory</span> <span class="o">-</span><span class="n">p</span> <span class="s2">"*_test.py"</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="n">discover</span> <span class="n">project_directory</span> <span class="s2">"*_test.py"</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了作为路径之外，还可以传递包名称，例如
 </font></font><code class="docutils literal notranslate"><span class="pre">myproject.subpackage.test</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，作为起始目录。</font><font style="vertical-align: inherit;">然后将导入您提供的软件包名称，并将其在文件系统上的位置用作起始目录。</font></font></p>
<div class="admonition caution">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试发现通过导入测试来加载测试。</font><font style="vertical-align: inherit;">一旦测试发现找到了您指定的起始目录中的所有测试文件，它就会将路径转换为要导入的包名称。</font><font style="vertical-align: inherit;">例如，</font></font><code class="file docutils literal notranslate"><span class="pre">foo/bar/baz.py</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将导入为</font></font><code class="docutils literal notranslate"><span class="pre">foo.bar.baz</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您有一个全局安装的软件包并在软件包的另一个副本上尝试测试发现，那么导入</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发生在错误的地方。</font><font style="vertical-align: inherit;">如果发生这种情况，测试发现将警告您并退出。</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您将启动目录作为包名称而不是目录路径提供，则discover会假定它从中导入的位置是您想要的位置，因此您不会收到警告。</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试模块和包可以通过</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#load-tests-protocol"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">load_tests协议</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义测试加载和发现</font><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.4中已更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试发现支持</font></font><a class="reference internal" href="https://docs.python.org/3/glossary.html#term-namespace-package"><span class="xref std std-term"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名空间包</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
</div>
<div class="section" id="organizing-test-code">
<span id="organizing-tests"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织测试代码</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#organizing-test-code" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单元测试的基本构建块是</font></font><em class="dfn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试用例</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 必须设置并检查正确性的单个方案。</font><font style="vertical-align: inherit;">在</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，测试用例由</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">表示</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要创建自己的测试用例，必须编写</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或使用的</font><font style="vertical-align: inherit;">子类
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.FunctionTestCase" title="unittest.FunctionTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionTestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">的测试代码</font><font style="vertical-align: inherit;">应该是完全独立的，这样它既可以单独运行，也可以与任意数量的其他测试用例任意组合运行。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最简单的</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子类将简单地实现一个测试方法（即名称以其开头的方法</font></font><code class="docutils literal notranslate"><span class="pre">test</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），以便执行特定的测试代码：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unittest</span>

<span class="k">class</span> <span class="nc">DefaultWidgetSizeTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_default_widget_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">widget</span> <span class="o">=</span> <span class="n">Widget</span><span class="p">(</span><span class="s1">'The widget'</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">size</span><span class="p">(),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，为了测试某些内容，我们使用</font><font style="vertical-align: inherit;">基类</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">assert*()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
提供</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">之一</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果测试失败，将引发一个带有解释性消息的异常，并将</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
测试用例标识为</font></font><em class="dfn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失败</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">任何其他异常都将被视为</font></font><em class="dfn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试可以很多，并且它们的设置可以是重复的。</font><font style="vertical-align: inherit;">幸运的是，我们可以通过实现一个被调用的方法来分解设置代码，
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试框架将自动调用我们运行的每个测试：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unittest</span>

<span class="k">class</span> <span class="nc">WidgetTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget</span> <span class="o">=</span> <span class="n">Widget</span><span class="p">(</span><span class="s1">'The widget'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_default_widget_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">size</span><span class="p">(),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">),</span>
                         <span class="s1">'incorrect default size'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_widget_resize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">size</span><span class="p">(),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">150</span><span class="p">),</span>
                         <span class="s1">'wrong size after resize'</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行各种测试的顺序是通过根据字符串的内置顺序对测试方法名称进行排序来确定的。</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果该</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法在测试运行时引发异常，则框架将认为测试遇到错误，并且不会执行测试方法。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同样，我们可以提供一个</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown" title="unittest.TestCase.tearDown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tearDown()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在运行测试方法后整理的方法：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unittest</span>

<span class="k">class</span> <span class="nc">WidgetTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget</span> <span class="o">=</span> <span class="n">Widget</span><span class="p">(</span><span class="s1">'The widget'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown" title="unittest.TestCase.tearDown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tearDown()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将运行测试方法是否成功。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试代码的这种工作环境称为
 </font></font><em class="dfn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试夹具</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">创建一个新的TestCase实例作为用于执行每个单独测试方法的唯一测试夹具。</font><font style="vertical-align: inherit;">因此
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown" title="unittest.TestCase.tearDown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tearDown()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将在每个测试调用一次。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建议您使用TestCase实现根据测试的功能将测试组合在一起。  </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为此提供了一个机制：</font></font><em class="dfn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试套件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，由下式表示</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类。</font><font style="vertical-align: inherit;">在大多数情况下，调用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.main" title="unittest.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">unittest.main()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将做正确的事情并为您收集所有模块的测试用例并执行它们。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，如果您想自定义测试套件的构建，您可以自己完成：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">suite</span><span class="p">():</span>
    <span class="n">suite</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestSuite</span><span class="p">()</span>
    <span class="n">suite</span><span class="o">.</span><span class="n">addTest</span><span class="p">(</span><span class="n">WidgetTestCase</span><span class="p">(</span><span class="s1">'test_default_widget_size'</span><span class="p">))</span>
    <span class="n">suite</span><span class="o">.</span><span class="n">addTest</span><span class="p">(</span><span class="n">WidgetTestCase</span><span class="p">(</span><span class="s1">'test_widget_resize'</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">suite</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TextTestRunner</span><span class="p">()</span>
    <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">suite</span><span class="p">())</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以将测试用例和测试套件的定义放在与要测试的代码相同的模块中（例如</font></font><code class="file docutils literal notranslate"><span class="pre">widget.py</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），但将测试代码放在单独的模块中有几个优点，例如
 </font></font><code class="file docutils literal notranslate"><span class="pre">test_widget.py</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<ul class="simple">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试模块可以从命令行独立运行。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试代码可以更容易地与发货的代码分开。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有充分理由改变测试代码以适应它测试的代码的诱惑力较小。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试代码的修改频率要低于它测试的代码。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过测试的代码可以更容易地重构。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用C语言编写的模块的测试无论如何都必须在单独的模块中，为什么不一致？</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果测试策略发生变化，则无需更改源代码。</font></font></li>
</ul>
</div>
<div class="section" id="re-using-old-test-code">
<span id="legacy-unit-tests"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重用旧的测试代码</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#re-using-old-test-code" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些用户会发现他们有自己想要运行的测试代码</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而不</font><font style="vertical-align: inherit;">会将</font><font style="vertical-align: inherit;">每个旧的测试函数转换为
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子类。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为此，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了一个</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.FunctionTestCase" title="unittest.FunctionTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionTestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程。</font><font style="vertical-align: inherit;">此子类</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用于包装现有的测试函数。</font><font style="vertical-align: inherit;">还可以提供设置和拆卸功能。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鉴于以下测试功能：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">testSomething</span><span class="p">():</span>
    <span class="n">something</span> <span class="o">=</span> <span class="n">makeSomething</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">something</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="c1"># ...</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以使用可选的设置和拆除方法创建一个等效的测试用例实例，如下所示：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">testcase</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">FunctionTestCase</span><span class="p">(</span><span class="n">testSomething</span><span class="p">,</span>
                                     <span class="n">setUp</span><span class="o">=</span><span class="n">makeSomethingDB</span><span class="p">,</span>
                                     <span class="n">tearDown</span><span class="o">=</span><span class="n">deleteSomethingDB</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.FunctionTestCase" title="unittest.FunctionTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionTestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以用于快速将现有测试基础转换为</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于系统，但不建议使用此方法。</font><font style="vertical-align: inherit;">花时间设置适当的</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
子类将使未来的测试重构变得无比容易。</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在某些情况下，可能已使用该</font></font><a class="reference internal" href="https://docs.python.org/3/library/doctest.html#module-doctest" title="doctest：在docstrings中测试代码片段。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">doctest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
模块</font><font style="vertical-align: inherit;">编写了现有测试</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果是这样，</font></font><a class="reference internal" href="https://docs.python.org/3/library/doctest.html#module-doctest" title="doctest：在docstrings中测试代码片段。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">doctest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供一个</font></font><code class="xref py py-class docutils literal notranslate"><span class="pre">DocTestSuite</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从现有</font></font><a class="reference internal" href="https://docs.python.org/3/library/doctest.html#module-doctest" title="doctest：在docstrings中测试代码片段。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">doctest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的测试中</font><font style="vertical-align: inherit;">自动构建</font><font style="vertical-align: inherit;">实例
 </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">类</font><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="section" id="skipping-tests-and-expected-failures">
<span id="unittest-skipping"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跳过测试和预期的失败</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#skipping-tests-and-expected-failures" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unittest支持跳过单个测试方法甚至整个测试类。</font><font style="vertical-align: inherit;">此外，它还支持将测试标记为“预期失败”，这项测试已被破坏并将失败，但不应将其视为失败
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跳过测试只是使用</font><a class="reference internal" href="https://docs.python.org/3/glossary.html#term-decorator"><span class="xref std std-term"><font style="vertical-align: inherit;">装饰器</font></span></a><font style="vertical-align: inherit;"> 
或其条件变体之一。</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.skip" title="unittest.skip"><code class="xref py py-func docutils literal notranslate"><span class="pre">skip()</span></code></a> <a class="reference internal" href="https://docs.python.org/3/glossary.html#term-decorator"><span class="xref std std-term"><font style="vertical-align: inherit;"></font></span></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本跳过看起来像这样：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="nd">@unittest</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="s2">"demonstrating skipping"</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_nothing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s2">"shouldn't happen"</span><span class="p">)</span>

    <span class="nd">@unittest</span><span class="o">.</span><span class="n">skipIf</span><span class="p">(</span><span class="n">mylib</span><span class="o">.</span><span class="n">__version__</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                     <span class="s2">"not supported in this library version"</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Tests that work for only a certain version of the library.</span>
        <span class="k">pass</span>

    <span class="nd">@unittest</span><span class="o">.</span><span class="n">skipUnless</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"win"</span><span class="p">),</span> <span class="s2">"requires Windows"</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_windows_support</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># windows specific testing code</span>
        <span class="k">pass</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是以详细模式运行上面示例的输出：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">test_format</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">MyTestCase</span><span class="p">)</span> <span class="o">...</span> <span class="n">skipped</span> <span class="s1">'not supported in this library version'</span>
<span class="n">test_nothing</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">MyTestCase</span><span class="p">)</span> <span class="o">...</span> <span class="n">skipped</span> <span class="s1">'demonstrating skipping'</span>
<span class="n">test_windows_support</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">MyTestCase</span><span class="p">)</span> <span class="o">...</span> <span class="n">skipped</span> <span class="s1">'requires Windows'</span>

<span class="o">----------------------------------------------------------------------</span>
<span class="n">Ran</span> <span class="mi">3</span> <span class="n">tests</span> <span class="ow">in</span> <span class="mf">0.005</span><span class="n">s</span>

<span class="n">OK</span> <span class="p">(</span><span class="n">skipped</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以像方法一样跳过类：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="nd">@unittest</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="s2">"showing class skipping"</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">MySkippedTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_not_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
</div>
<p><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestCase.setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以跳过测试。</font><font style="vertical-align: inherit;">当需要设置的资源不可用时，这很有用。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预期的失败使用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.expectedFailure" title="unittest.expectedFailure"><code class="xref py py-func docutils literal notranslate"><span class="pre">expectedFailure()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">装饰器。</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ExpectedFailureTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="nd">@unittest</span><span class="o">.</span><span class="n">expectedFailure</span>
    <span class="k">def</span> <span class="nf">test_fail</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">"broken"</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过制作一个</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.skip" title="unittest.skip"><code class="xref py py-func docutils literal notranslate"><span class="pre">skip()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在想要跳过测试时</font><font style="vertical-align: inherit;">调用</font><font style="vertical-align: inherit;">测试</font><font style="vertical-align: inherit;">的装饰器，可以很容易地滚动自己的跳过装饰器
 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">除非传递的对象具有某个属性，否则此装饰器将跳过测试：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">skipUnlessHasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">lambda</span> <span class="n">func</span><span class="p">:</span> <span class="n">func</span>
    <span class="k">return</span> <span class="n">unittest</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="s2">"</span><span class="si">{!r}</span><span class="s2"> doesn't have </span><span class="si">{!r}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下装饰器实现测试跳过和预期的失败：</font></font></p>
<dl class="function">
<dt id="unittest.skip">
<code class="descclassname">@</code><code class="descclassname">unittest.</code><code class="descname">skip</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原因</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.skip" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无条件地跳过装饰测试。  </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理由</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该描述为什么跳过测试。</font></font></p>
</dd></dl>

<dl class="function">
<dt id="unittest.skipIf">
<code class="descclassname">@</code><code class="descclassname">unittest.</code><code class="descname">skipIf</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原因</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.skipIf" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为真，</font><font style="vertical-align: inherit;">则跳过修饰的测试</font><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="function">
<dt id="unittest.skipUnless">
<code class="descclassname">@</code><code class="descclassname">unittest.</code><code class="descname">skipUnless</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原因</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.skipUnless" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除非</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为真，</font><font style="vertical-align: inherit;">否则跳过修饰的测试</font><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="function">
<dt id="unittest.expectedFailure">
<code class="descclassname">@</code><code class="descclassname">unittest.</code><code class="descname">expectedFailure</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.expectedFailure" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将测试标记为预期的失败。</font><font style="vertical-align: inherit;">如果测试失败，将被视为成功。</font><font style="vertical-align: inherit;">如果测试通过，则认为是失败。</font></font></p>
</dd></dl>

<dl class="exception">
<dt id="unittest.SkipTest">
<em class="property"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常</font></font></em><code class="descclassname">unittest.</code><code class="descname">SkipTest</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原因</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.SkipTest" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引发此异常以跳过测试。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常你可以使用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.skipTest" title="unittest.TestCase.skipTest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestCase.skipTest()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">其中一个跳过装饰器而不是直接提升它。</font></font></p>
</dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跳过的测试不会有</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown" title="unittest.TestCase.tearDown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tearDown()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绕过它们。</font><font style="vertical-align: inherit;">跳过的课程不会有</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUpClass" title="unittest.TestCase.setUpClass"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUpClass()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">没有</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDownClass" title="unittest.TestCase.tearDownClass"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tearDownClass()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">跳过的模块不会有</font></font><code class="xref py py-func docutils literal notranslate"><span class="pre">setUpModule()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">没有</font></font><code class="xref py py-func docutils literal notranslate"><span class="pre">tearDownModule()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="section" id="distinguishing-test-iterations-using-subtests">
<span id="subtests"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用子测试区分测试迭代</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#distinguishing-test-iterations-using-subtests" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.4中的新功能。</font></font></span></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当测试之间存在非常小的差异时，例如某些参数，unittest允许您使用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.subTest" title="unittest.TestCase.subTest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">subTest()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上下文管理器</font><font style="vertical-align: inherit;">在测试方法的主体内区分它们</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，以下测试：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NumbersTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_even</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Test that numbers between 0 and 5 are all even.</span>
<span class="sd">        """</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">subTest</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将产生以下输出：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="o">======================================================================</span>
<span class="n">FAIL</span><span class="p">:</span> <span class="n">test_even</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">NumbersTest</span><span class="p">)</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="o">----------------------------------------------------------------------</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">"subtests.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">32</span><span class="p">,</span> <span class="ow">in</span> <span class="n">test_even</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="ne">AssertionError</span><span class="p">:</span> <span class="mi">1</span> <span class="o">!=</span> <span class="mi">0</span>

<span class="o">======================================================================</span>
<span class="n">FAIL</span><span class="p">:</span> <span class="n">test_even</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">NumbersTest</span><span class="p">)</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="o">----------------------------------------------------------------------</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">"subtests.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">32</span><span class="p">,</span> <span class="ow">in</span> <span class="n">test_even</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="ne">AssertionError</span><span class="p">:</span> <span class="mi">1</span> <span class="o">!=</span> <span class="mi">0</span>

<span class="o">======================================================================</span>
<span class="n">FAIL</span><span class="p">:</span> <span class="n">test_even</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">NumbersTest</span><span class="p">)</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="o">----------------------------------------------------------------------</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">"subtests.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">32</span><span class="p">,</span> <span class="ow">in</span> <span class="n">test_even</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="ne">AssertionError</span><span class="p">:</span> <span class="mi">1</span> <span class="o">!=</span> <span class="mi">0</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果不使用子测试，执行将在第一次失败后停止，并且错误将不太容易诊断，因为</font></font><code class="docutils literal notranslate"><span class="pre">i</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不会显示以下</font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="o">======================================================================</span>
<span class="n">FAIL</span><span class="p">:</span> <span class="n">test_even</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">NumbersTest</span><span class="p">)</span>
<span class="o">----------------------------------------------------------------------</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">"subtests.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">32</span><span class="p">,</span> <span class="ow">in</span> <span class="n">test_even</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="ne">AssertionError</span><span class="p">:</span> <span class="mi">1</span> <span class="o">!=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="classes-and-functions">
<span id="unittest-contents"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类和函数</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#classes-and-functions" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节深入介绍了API的API </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="section" id="test-cases">
<span id="testcase-objects"></span><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试用例</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#test-cases" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<dl class="class">
<dt id="unittest.TestCase">
<em class="property"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">class </font></font></em><code class="descclassname">unittest.</code><code class="descname">TestCase</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">methodName ='runTest' </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类的</font><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">表示</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Universe中</font><font style="vertical-align: inherit;">的逻辑测试单元</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此类旨在用作基类，具体测试由具体子类实现。</font><font style="vertical-align: inherit;">此类实现测试运行器所需的接口，以允许它驱动测试，以及测试代码可用于检查和报告各种故障的方法。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个实例</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将运行一个基本方法：名为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">methodName</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的方法</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在大多数用途中</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，既不会更改</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">methodName，</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也不会重新实现默认</font></font><code class="docutils literal notranslate"><span class="pre">runTest()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在3.2版中更改：</font></font></span><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以在不提供</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">methodName的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">情况下成功实例化
 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这样可以更轻松地</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从交互式解释器</font><font style="vertical-align: inherit;">进行实验</font><font style="vertical-align: inherit;">。</font></font></p>
</div>
<p><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 实例提供三组方法：一组用于运行测试，另一组用于测试实现以检查条件和报告失败，以及一些查询方法允许收集有关测试本身的信息。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一组（运行测试）中的方法是：</font></font></p>
<dl class="method">
<dt id="unittest.TestCase.setUp">
<code class="descname">setUp</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用准备测试夹具的方法。</font><font style="vertical-align: inherit;">在调用测试方法之前立即调用它; </font><font style="vertical-align: inherit;">除了</font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#AssertionError" title="Asse田"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AssertionError</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.SkipTest" title="unittest.SkipTest"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SkipTest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之外，此方法引发的任何异常都将被视为错误而非测试失败。</font><font style="vertical-align: inherit;">默认实现什么都不做。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.tearDown">
<code class="descname">tearDown</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用测试方法后立即调用的方法并记录结果。</font><font style="vertical-align: inherit;">即使测试方法引发异常，也会调用此方法，因此子类中的实现可能需要特别注意检查内部状态。</font><font style="vertical-align: inherit;">任何异常，比其他
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#AssertionError" title="Asse田"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AssertionError</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.SkipTest" title="unittest.SkipTest"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SkipTest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，通过该方法提出将被视为附加的错误，而不是一个测试失败（从而增加报告的错误的总数）。</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论测试方法的结果如何，</font><font style="vertical-align: inherit;">只有</font><font style="vertical-align: inherit;">成功</font><font style="vertical-align: inherit;">时才会调用此</font><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">默认实现什么都不做。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.setUpClass">
<code class="descname">setUpClass</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUpClass" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行在单个类中的测试之前调用的类方法。
</font></font><code class="docutils literal notranslate"><span class="pre">setUpClass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以类作为唯一参数调用，必须装饰为</font></font><a class="reference internal" href="https://docs.python.org/3/library/functions.html#classmethod" title="类方法"><code class="xref py py-func docutils literal notranslate"><span class="pre">classmethod()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">setUpClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#class-and-module-fixtures"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类和模块夹具</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.tearDownClass">
<code class="descname">tearDownClass</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDownClass" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已经运行了在单个类中的测试之后调用的类方法。
</font></font><code class="docutils literal notranslate"><span class="pre">tearDownClass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以类作为唯一参数调用，必须装饰为</font></font><a class="reference internal" href="https://docs.python.org/3/library/functions.html#classmethod" title="类方法"><code class="xref py py-meth docutils literal notranslate"><span class="pre">classmethod()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">tearDownClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#class-and-module-fixtures"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类和模块夹具</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.run">
<code class="descname">run</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果=无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.run" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行测试，将结果收集到</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传递</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">对象中</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被省略或</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，将创建的临时结果对象（通过调用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.defaultTestResult" title="unittest.TestCase.defaultTestResult"><code class="xref py py-meth docutils literal notranslate"><span class="pre">defaultTestResult()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
方法）并使用。</font><font style="vertical-align: inherit;">结果对象返回给</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.run" title="unittest.TestCase.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用者。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只需调用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实例</font><font style="vertical-align: inherit;">即可获得相同的效果</font><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在版本3.3中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前的版本</font></font><code class="docutils literal notranslate"><span class="pre">run</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有返回结果。</font><font style="vertical-align: inherit;">也没有调用实例。</font></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.skipTest">
<code class="descname">skipTest</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原因</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.skipTest" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在测试方法期间调用此方法或</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跳过当前测试。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest-skipping"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跳过测试和预期的故障</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.subTest">
<code class="descname">subTest</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**参数</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.subTest" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回一个上下文管理器，它执行封闭的代码块作为子测试。  </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">params</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是可选的，任何值都会在子测试失败时显示，允许您清楚地识别它们。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试用例可以包含任意数量的子测试声明，并且可以任意嵌套。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#subtests"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用子测试区分测试迭代</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.4中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.debug">
<code class="descname">debug</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.debug" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行测试而不收集结果。</font><font style="vertical-align: inherit;">这允许测试引发的异常传播到调用者，并可用于支持调试器下运行的测试。</font></font></p>
</dd></dl>

<p id="assert-methods"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类提供了一些断言方法来检查并报告故障。</font><font style="vertical-align: inherit;">下表列出了最常用的方法（有关更多断言方法，请参阅下表）：</font></font></p>
<table border="1" class="docutils">
<colgroup>
<col width="48%">
<col width="34%">
<col width="18%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></th>
<th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查一下</font></font></th>
<th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新的</font></font></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">==</span> <span class="pre">b</span></code></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotEqual" title="unittest.TestCase.assertNotEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">!=</span> <span class="pre">b</span></code></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue" title="unittest.TestCase.assertTrue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertTrue(x)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">bool(x)</span> <span class="pre">is</span> <span class="pre">True</span></code></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertFalse" title="unittest.TestCase.assertFalse"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertFalse(x)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">bool(x)</span> <span class="pre">is</span> <span class="pre">False</span></code></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIs" title="unittest.TestCase.assertIs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertIs(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">is</span> <span class="pre">b</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNot" title="unittest.TestCase.assertIsNot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertIsNot(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">b</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNone" title="unittest.TestCase.assertIsNone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertIsNone(x)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">None</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNotNone" title="unittest.TestCase.assertIsNotNone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertIsNotNone(x)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">None</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIn" title="unittest.TestCase.assertIn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertIn(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">in</span> <span class="pre">b</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIn" title="unittest.TestCase.assertNotIn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotIn(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">b</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsInstance" title="unittest.TestCase.assertIsInstance"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertIsInstance(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">isinstance(a,</span> <span class="pre">b)</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIsInstance" title="unittest.TestCase.assertNotIsInstance"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotIsInstance(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">isinstance(a,</span> <span class="pre">b)</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2</font></font></td>
</tr>
</tbody>
</table>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有assert方法都接受一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数，如果指定，</font><font style="vertical-align: inherit;">该</font><font style="vertical-align: inherit;">参数将用作失败时的错误消息（另请参阅</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.longMessage" title="unittest.TestCase.longMessage"><code class="xref py py-data docutils literal notranslate"><span class="pre">longMessage</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">请注意，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">味精</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关键字参数可以传递给</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises" title="unittest.TestCase.assertRaises"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaises()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex" title="unittest.TestCase.assertRaisesRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaisesRegex()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarns" title="unittest.TestCase.assertWarns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertWarns()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarnsRegex" title="unittest.TestCase.assertWarnsRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertWarnsRegex()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
只有当它们被用作上下文管理器。</font></font></p>
<dl class="method">
<dt id="unittest.TestCase.assertEqual">
<code class="descname">assertEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是相等的。</font><font style="vertical-align: inherit;">如果值不相等，则测试将失败。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，如果</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是完全相同的类型，并且list，tuple，dict，set，frozenset或str之一或者子类</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.addTypeEqualityFunc" title="unittest.TestCase.addTypeEqualityFunc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addTypeEqualityFunc()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向特定于类型的相等函数</font><font style="vertical-align: inherit;">注册的任何类型</font><font style="vertical-align: inherit;">将被调用，以便生成更有用的默认错误消息（另请参见</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#type-specific-methods"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定于类型的方法列表</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.1中已更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了类型特定的相等功能的自动调用。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在3.2版中更改：</font></font></span><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertMultiLineEqual" title="unittest.TestCase.assertMultiLineEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertMultiLineEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加为用于比较字符串的默认类型相等函数。</font></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertNotEqual">
<code class="descname">assertNotEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不相等。</font><font style="vertical-align: inherit;">如果值比较相等，则测试将失败。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertTrue">
<code class="descname">assertTrue</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">expr</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt id="unittest.TestCase.assertFalse">
<code class="descname">assertFalse</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">expr</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertFalse" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">expr</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否为真（或假）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，这相当于</font><font style="vertical-align: inherit;">而不是</font><font style="vertical-align: inherit;">（使用</font><font style="vertical-align: inherit;">后者）。</font><font style="vertical-align: inherit;">当更具体的方法可用时（例如</font><font style="vertical-align: inherit;">代替</font><font style="vertical-align: inherit;">），</font><font style="vertical-align: inherit;">也应避免使用此方法
 </font><font style="vertical-align: inherit;">，因为它们在发生故障时提供更好的错误消息。</font></font><code class="docutils literal notranslate"><span class="pre">bool(expr)</span> <span class="pre">is</span> <span class="pre">True</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">expr</span>
<span class="pre">is</span> <span class="pre">True</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">assertIs(expr,</span> <span class="pre">True)</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">assertEqual(a,</span> <span class="pre">b)</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">assertTrue(a</span> <span class="pre">==</span> <span class="pre">b)</span></code><font style="vertical-align: inherit;"></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertIs">
<code class="descname">assertIs</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIs" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt id="unittest.TestCase.assertIsNot">
<code class="descname">assertIsNot</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNot" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">评估（或不评估）同一个对象。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertIsNone">
<code class="descname">assertIsNone</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">expr</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNone" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt id="unittest.TestCase.assertIsNotNone">
<code class="descname">assertIsNotNone</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">expr</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNotNone" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">expr</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否（或不是）</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertIn">
<code class="descname">assertIn</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIn" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt id="unittest.TestCase.assertNotIn">
<code class="descname">assertNotIn</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIn" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font><font style="vertical-align: inherit;">（或不测试）</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">秒</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertIsInstance">
<code class="descname">assertIsInstance</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obj</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cls</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsInstance" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt id="unittest.TestCase.assertNotIsInstance">
<code class="descname">assertNotIsInstance</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obj</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cls</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIsInstance" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obj</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是（或不是）</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cls</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的实例</font><font style="vertical-align: inherit;">（可以是类的类或元组，如支持的</font></font><a class="reference internal" href="https://docs.python.org/3/library/functions.html#isinstance" title="isinstance"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinstance()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">要检查确切的类型，请使用</font><font style="vertical-align: inherit;">。</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIs" title="unittest.TestCase.assertIs"><code class="xref py py-func docutils literal notranslate"><span class="pre">assertIs(type(obj),</span> <span class="pre">cls)</span></code></a><font style="vertical-align: inherit;"></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
</dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还可以使用以下方法检查异常，警告和日志消息的生成：</font></font></p>
<table border="1" class="docutils">
<colgroup>
<col width="53%">
<col width="36%">
<col width="11%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></th>
<th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查一下</font></font></th>
<th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新的</font></font></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises" title="unittest.TestCase.assertRaises"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaises(exc,</span> <span class="pre">fun,</span> <span class="pre">*args,</span> <span class="pre">**kwds)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">fun(*args,</span> <span class="pre">**kwds)</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提高</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EXC</font></font></em></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex" title="unittest.TestCase.assertRaisesRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaisesRegex(exc,</span> <span class="pre">r,</span> <span class="pre">fun,</span> <span class="pre">*args,</span> <span class="pre">**kwds)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">fun(*args,</span> <span class="pre">**kwds)</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提出</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exc</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
并且消息匹配正则表达式</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></em></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarns" title="unittest.TestCase.assertWarns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertWarns(warn,</span> <span class="pre">fun,</span> <span class="pre">*args,</span> <span class="pre">**kwds)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">fun(*args,</span> <span class="pre">**kwds)</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提出</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></em></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarnsRegex" title="unittest.TestCase.assertWarnsRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertWarnsRegex(warn,</span> <span class="pre">r,</span> <span class="pre">fun,</span> <span class="pre">*args,</span> <span class="pre">**kwds)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">fun(*args,</span> <span class="pre">**kwds)</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提出</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
和消息的正则表达式匹配</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ř</font></font></em></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertLogs" title="unittest.TestCase.assertLogs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertLogs(logger,</span> <span class="pre">level)</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code class="docutils literal notranslate"><span class="pre">with</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">块</font><font style="vertical-align: inherit;">
以最低</font><em><font style="vertical-align: inherit;">级别</font></em><font style="vertical-align: inherit;">登录</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录器</font></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4</font></font></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="unittest.TestCase.assertRaises">
<code class="descname">assertRaises</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可调用</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* args</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">** kwds </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt>
<code class="descname">assertRaises</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font><font style="vertical-align: inherit;">使用也传递给的任何位置或关键字参数
 </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用callable</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，测试是否引发异常</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises" title="unittest.TestCase.assertRaises"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaises()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">引发</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则</font><font style="vertical-align: inherit;">测试通过，如果</font><font style="vertical-align: inherit;">引发另一个异常则为错误，如果没有引发异常则失败。</font><font style="vertical-align: inherit;">要捕获任何一组异常，可以将包含异常类的元组作为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传递</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果只给出</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和可能的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数，则返回一个上下文管理器，以便测试中的代码可以内联而不是作为函数编写：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">SomeException</span><span class="p">):</span>
    <span class="n">do_something</span><span class="p">()</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当用作上下文管理器时，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises" title="unittest.TestCase.assertRaises"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaises()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接受附加关键字参数</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上下文管理器将捕获的异常对象存储在其
 </font></font><code class="xref py py-attr docutils literal notranslate"><span class="pre">exception</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性中。</font><font style="vertical-align: inherit;">如果打算对引发的异常执行额外检查，这可能很有用：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">SomeException</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
    <span class="n">do_something</span><span class="p">()</span>

<span class="n">the_exception</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">exception</span>
<span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">the_exception</span><span class="o">.</span><span class="n">error_code</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.1中已更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises" title="unittest.TestCase.assertRaises"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaises()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用作上下文管理器的功能。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在3.2版中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了</font></font><code class="xref py py-attr docutils literal notranslate"><span class="pre">exception</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在版本3.3中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在用作上下文管理器时</font><font style="vertical-align: inherit;">添加了</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关键字参数。</font></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertRaisesRegex">
<code class="descname">assertRaisesRegex</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正则表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可调用</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* args</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">** kwds </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt>
<code class="descname">assertRaisesRegex</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正则表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">喜欢</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises" title="unittest.TestCase.assertRaises"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaises()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但也测试</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正则表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匹配引发的异常的字符串表示。  </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regex</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以是正则表达式对象，也可以是包含适合使用的正则表达式的字符串</font></font><a class="reference internal" href="https://docs.python.org/3/library/re.html#re.search" title="研究"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.search()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例子：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s2">"invalid literal for.*XYZ'$"</span><span class="p">,</span>
                       <span class="nb">int</span><span class="p">,</span> <span class="s1">'XYZ'</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要么：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s1">'literal'</span><span class="p">):</span>
   <span class="nb">int</span><span class="p">(</span><span class="s1">'XYZ'</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.1中的新功能：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称下</font></font><code class="docutils literal notranslate"><span class="pre">assertRaisesRegexp</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在3.2版中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重命名为</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex" title="unittest.TestCase.assertRaisesRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaisesRegex()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在版本3.3中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在用作上下文管理器时</font><font style="vertical-align: inherit;">添加了</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关键字参数。</font></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertWarns">
<code class="descname">assertWarns</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可调用</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* args</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">** kwds </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarns" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt>
<code class="descname">assertWarns</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用也传递给的任何位置或关键字参数
 </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用callable</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，测试是否触发警告</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarns" title="unittest.TestCase.assertWarns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertWarns()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被触发</font><font style="vertical-align: inherit;">则测试通过，否则测试</font><font style="vertical-align: inherit;">失败。</font><font style="vertical-align: inherit;">任何异常都是错误。</font><font style="vertical-align: inherit;">要捕获任何一组警告，可以将包含警告类的元组作为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传递</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果只给出</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和可能的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数，则返回一个上下文管理器，以便测试中的代码可以内联而不是函数写入：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertWarns</span><span class="p">(</span><span class="n">SomeWarning</span><span class="p">):</span>
    <span class="n">do_something</span><span class="p">()</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当用作上下文管理器时，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarns" title="unittest.TestCase.assertWarns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertWarns()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接受附加关键字参数</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上下文管理器将捕获的警告对象存储在其
 </font></font><code class="xref py py-attr docutils literal notranslate"><span class="pre">warning</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性中，以及触发</font></font><code class="xref py py-attr docutils literal notranslate"><span class="pre">filename</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性中</font><font style="vertical-align: inherit;">的警告的源代码行</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果打算对捕获的警告执行额外检查，这可能很有用：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertWarns</span><span class="p">(</span><span class="n">SomeWarning</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
    <span class="n">do_something</span><span class="p">()</span>

<span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s1">'myfile.py'</span><span class="p">,</span> <span class="n">cm</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="n">cm</span><span class="o">.</span><span class="n">lineno</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论调用何种警告过滤器，此方法都有效。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在版本3.3中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在用作上下文管理器时</font><font style="vertical-align: inherit;">添加了</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关键字参数。</font></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertWarnsRegex">
<code class="descname">assertWarnsRegex</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正则表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可调用</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* args</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">** kwds </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarnsRegex" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt>
<code class="descname">assertWarnsRegex</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正则表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">喜欢</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertWarns" title="unittest.TestCase.assertWarns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertWarns()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但也测试</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正则表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匹配触发警告的消息。  </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regex</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以是正则表达式对象，也可以是包含适合使用的正则表达式的字符串</font></font><a class="reference internal" href="https://docs.python.org/3/library/re.html#re.search" title="研究"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.search()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">assertWarnsRegex</span><span class="p">(</span><span class="ne">DeprecationWarning</span><span class="p">,</span>
                      <span class="sa">r</span><span class="s1">'legacy_function\(\) is deprecated'</span><span class="p">,</span>
                      <span class="n">legacy_function</span><span class="p">,</span> <span class="s1">'XYZ'</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要么：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertWarnsRegex</span><span class="p">(</span><span class="ne">RuntimeWarning</span><span class="p">,</span> <span class="s1">'unsafe frobnicating'</span><span class="p">):</span>
    <span class="n">frobnicate</span><span class="p">(</span><span class="s1">'/etc/passwd'</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在版本3.3中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在用作上下文管理器时</font><font style="vertical-align: inherit;">添加了</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关键字参数。</font></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertLogs">
<code class="descname">assertLogs</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logger = None</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">level = None </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertLogs" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个上下文管理器，用于测试至少一条消息记录在</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录器</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或其子</font><em><font style="vertical-align: inherit;">节点</font></em><font style="vertical-align: inherit;">上，至少具有给定
 </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">级别</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果给定，则</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录器</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该是</font></font><a class="reference internal" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="logging.Logger"><code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Logger</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象或
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#str" title="海峡"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给出记录器的名称。</font><font style="vertical-align: inherit;">默认为根记录器，它将捕获所有消息。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果给定，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">level</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该是数字日志记录级别或其等效字符串（例如，</font></font><code class="docutils literal notranslate"><span class="pre">"ERROR"</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者
 </font></font><code class="xref py py-attr docutils literal notranslate"><span class="pre">logging.ERROR</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">默认是</font></font><code class="xref py py-attr docutils literal notranslate"><span class="pre">logging.INFO</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code class="docutils literal notranslate"><span class="pre">with</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
块</font><font style="vertical-align: inherit;">内发出的消息至少</font><font style="vertical-align: inherit;">与</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录器</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">级别</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件</font><font style="vertical-align: inherit;">匹配，</font><font style="vertical-align: inherit;">则测试通过</font><font style="vertical-align: inherit;">，否则失败。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上下文管理器返回的对象是一个记录助手，它记录匹配的日志消息。</font><font style="vertical-align: inherit;">它有两个属性：</font></font></p>
<dl class="attribute">
<dt id="unittest.TestCase.records">
<code class="descname">records</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.records" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/logging.html#logging.LogRecord" title="logging.LogRecord"><code class="xref py py-class docutils literal notranslate"><span class="pre">logging.LogRecord</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匹配日志消息</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">对象</font><font style="vertical-align: inherit;">列表</font><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestCase.output">
<code class="descname">output</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.output" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/stdtypes.html#str" title="海峡"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有匹配消息的格式化输出</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">对象</font><font style="vertical-align: inherit;">列表</font><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertLogs</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">'INFO'</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
   <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">'first message'</span><span class="p">)</span>
   <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">'foo.bar'</span><span class="p">)</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">'second message'</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">output</span><span class="p">,</span> <span class="p">[</span><span class="s1">'INFO:foo:first message'</span><span class="p">,</span>
                             <span class="s1">'ERROR:foo.bar:second message'</span><span class="p">])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.4中的新功能。</font></font></span></p>
</div>
</dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有其他方法用于执行更具体的检查，例如：</font></font></p>
<table border="1" class="docutils">
<colgroup>
<col width="46%">
<col width="38%">
<col width="16%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></th>
<th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查一下</font></font></th>
<th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新的</font></font></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertAlmostEqual" title="unittest.TestCase.assertAlmostEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertAlmostEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">round(a-b,</span> <span class="pre">7)</span> <span class="pre">==</span> <span class="pre">0</span></code></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotAlmostEqual" title="unittest.TestCase.assertNotAlmostEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotAlmostEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">round(a-b,</span> <span class="pre">7)</span> <span class="pre">!=</span> <span class="pre">0</span></code></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertGreater" title="unittest.TestCase.assertGreater"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertGreater(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&gt;</span> <span class="pre">b</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertGreaterEqual" title="unittest.TestCase.assertGreaterEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertGreaterEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&gt;=</span> <span class="pre">b</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertLess" title="unittest.TestCase.assertLess"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertLess(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&lt;</span> <span class="pre">b</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertLessEqual" title="unittest.TestCase.assertLessEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertLessEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&lt;=</span> <span class="pre">b</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRegex" title="unittest.TestCase.assertRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRegex(s,</span> <span class="pre">r)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">r.search(s)</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotRegex" title="unittest.TestCase.assertNotRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotRegex(s,</span> <span class="pre">r)</span></code></a></td>
<td><code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">r.search(s)</span></code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertCountEqual" title="unittest.TestCase.assertCountEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertCountEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有相同数字的相同元素，无论它们的顺序如何</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2</font></font></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="unittest.TestCase.assertAlmostEqual">
<code class="descname">assertAlmostEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">places = 7</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg = None</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delta = None </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertAlmostEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt id="unittest.TestCase.assertNotAlmostEqual">
<code class="descname">assertNotAlmostEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">places = 7</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg = None</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delta = None </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotAlmostEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">近似（或不近似）通过计算差，四舍五入到小数点的给定数目相等</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的地方</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（默认7），并与零进行比较。</font><font style="vertical-align: inherit;">请注意，这些方法将值四舍五入到给定的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小数位数</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（即</font></font><a class="reference internal" href="https://docs.python.org/3/library/functions.html#round" title="回合"><code class="xref py py-func docutils literal notranslate"><span class="pre">round()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数），而不是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效数字</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">提供</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delta</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地点，</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之间的差值</font><font style="vertical-align: inherit;">必须小于或等于（或大于）</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delta</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delta</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">place</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都会提高a </font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="类型错误"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在版本3.2中更改：</font></font></span><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertAlmostEqual" title="unittest.TestCase.assertAlmostEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertAlmostEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动考虑比较相等的几乎相等的对象。  </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotAlmostEqual" title="unittest.TestCase.assertNotAlmostEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotAlmostEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果对象比较相等则自动失败。</font><font style="vertical-align: inherit;">添加了</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delta</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关键字参数。</font></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertGreater">
<code class="descname">assertGreater</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertGreater" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt id="unittest.TestCase.assertGreaterEqual">
<code class="descname">assertGreaterEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertGreaterEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt id="unittest.TestCase.assertLess">
<code class="descname">assertLess</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertLess" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt id="unittest.TestCase.assertLessEqual">
<code class="descname">assertLessEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertLessEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据方法名称</font><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别</font><font style="vertical-align: inherit;">测试</font><font style="vertical-align: inherit;">&gt;，&gt; =，&lt;或&lt;= </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">秒</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果没有，测试将失败：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">assertGreaterEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">AssertionError: "3" unexpectedly not greater than or equal to "4"</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertRegex">
<code class="descname">assertRegex</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">text</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regex</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg = None </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRegex" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt id="unittest.TestCase.assertNotRegex">
<code class="descname">assertNotRegex</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">text</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regex</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg = None </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotRegex" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正则表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索匹配（或不匹配）</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果失败，错误消息将包括模式和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或模式和</font><font style="vertical-align: inherit;">意外匹配</font><font style="vertical-align: inherit;">的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font><font style="vertical-align: inherit;">）。  </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regex</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
可以是正则表达式对象，也可以是包含适合使用的正则表达式的字符串</font></font><a class="reference internal" href="https://docs.python.org/3/library/re.html#re.search" title="研究"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.search()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.1中的新功能：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称下</font></font><code class="docutils literal notranslate"><span class="pre">assertRegexpMatches</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中已更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该方法</font></font><code class="docutils literal notranslate"><span class="pre">assertRegexpMatches()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已重命名为
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRegex" title="unittest.TestCase.assertRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRegex()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能：</font></font></span><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotRegex" title="unittest.TestCase.assertNotRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotRegex()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5版中的新功能：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该名称</font></font><code class="docutils literal notranslate"><span class="pre">assertNotRegexpMatches</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是不推荐使用的别名</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotRegex" title="unittest.TestCase.assertNotRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotRegex()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertCountEqual">
<code class="descname">assertCountEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertCountEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试该序列</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含与</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相同的元素</font><font style="vertical-align: inherit;">，而不管它们的顺序如何。</font><font style="vertical-align: inherit;">如果没有，将生成列出序列之间差异的错误消息。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较</font><em><font style="vertical-align: inherit;">第一个</font></em><font style="vertical-align: inherit;">和
 </font><em><font style="vertical-align: inherit;">第二个</font></em><font style="vertical-align: inherit;">时</font><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">忽略</font><font style="vertical-align: inherit;">重复元素</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它验证每个元素在两个序列中是否具有相同的计数。</font><font style="vertical-align: inherit;">相当于：
 </font><font style="vertical-align: inherit;">
但也适用于不可用对象的序列。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">assertEqual(Counter(list(first)),</span> <span class="pre">Counter(list(second)))</span></code><font style="vertical-align: inherit;"></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
</dd></dl>

<p id="type-specific-methods"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法将相同类型的对象的相等性检查分派给不同类型的特定方法。</font><font style="vertical-align: inherit;">这些方法已经针对大多数内置类型实现，但也可以使用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.addTypeEqualityFunc" title="unittest.TestCase.addTypeEqualityFunc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addTypeEqualityFunc()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下</font><font style="vertical-align: inherit;">方法注册新方法</font><font style="vertical-align: inherit;">：</font></font></p>
<dl class="method">
<dt id="unittest.TestCase.addTypeEqualityFunc">
<code class="descname">addTypeEqualityFunc</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">typeobj</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.addTypeEqualityFunc" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册一个特定于类型的方法，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于检查两个完全相同的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">typeobj</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（而不是子类）的</font><font style="vertical-align: inherit;">对象是否</font><font style="vertical-align: inherit;">相等。  </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须采用两个位置参数和第三个msg = None关键字参数</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.failureException" title="unittest.TestCase.failureException"><code class="xref py py-data docutils literal notranslate"><span class="pre">self.failureException(msg)</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当检测到前两个参数之间的不等式时，</font><font style="vertical-align: inherit;">它必须提出
 </font><font style="vertical-align: inherit;">- 可能提供有用的信息并在错误消息中详细解释不等式。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动使用的特定于类型的方法列表
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结在下表中。</font><font style="vertical-align: inherit;">请注意，通常不必直接调用这些方法。</font></font></p>
<table border="1" class="docutils">
<colgroup>
<col width="49%">
<col width="35%">
<col width="17%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></th>
<th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于比较</font></font></th>
<th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新的</font></font></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertMultiLineEqual" title="unittest.TestCase.assertMultiLineEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertMultiLineEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertSequenceEqual" title="unittest.TestCase.assertSequenceEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertSequenceEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">序列</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertListEqual" title="unittest.TestCase.assertListEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertListEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名单</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTupleEqual" title="unittest.TestCase.assertTupleEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertTupleEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元组</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertSetEqual" title="unittest.TestCase.assertSetEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertSetEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置或冻结</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertDictEqual" title="unittest.TestCase.assertDictEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertDictEqual(a,</span> <span class="pre">b)</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://stardict.sourceforge.net/Dictionaries.php下载</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="unittest.TestCase.assertMultiLineEqual">
<code class="descname">assertMultiLineEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertMultiLineEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试多行字符串</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等于字符串</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">秒</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">当不相等时，突出显示差异的两个字符串的差异将包含在错误消息中。</font><font style="vertical-align: inherit;">在比较字符串时，默认使用此方法</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertSequenceEqual">
<code class="descname">assertSequenceEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seq_type =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertSequenceEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试两个序列是否相等。</font><font style="vertical-align: inherit;">如果提供了</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seq_type</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则
 </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">first</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">second都</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seq_type的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例，</font><em><font style="vertical-align: inherit;">否则</font></em><font style="vertical-align: inherit;">将引发失败。</font><font style="vertical-align: inherit;">如果序列不同，则构造错误消息以显示两者之间的差异。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此方法不是直接调用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而是用于实现</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertListEqual" title="unittest.TestCase.assertListEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertListEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTupleEqual" title="unittest.TestCase.assertTupleEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertTupleEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertListEqual">
<code class="descname">assertListEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertListEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dt id="unittest.TestCase.assertTupleEqual">
<code class="descname">assertTupleEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTupleEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试两个列表或元组是否相等。</font><font style="vertical-align: inherit;">如果不是，则构造一条错误消息，仅显示两者之间的差异。</font><font style="vertical-align: inherit;">如果其中一个参数的类型错误，也会引发错误。</font><font style="vertical-align: inherit;">在比较列表或元组时，默认使用这些方法
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertSetEqual">
<code class="descname">assertSetEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertSetEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试两组是否相等。</font><font style="vertical-align: inherit;">如果不是，则构造一个错误消息，列出这些集之间的差异。</font><font style="vertical-align: inherit;">默认情况下，使用此方法比较set或frozensets时使用此方法</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的任何一个没有</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">set.difference()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
方法，</font><font style="vertical-align: inherit;">则会失败</font><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.assertDictEqual">
<code class="descname">assertDictEqual</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertDictEqual" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试两个词典是否相等。</font><font style="vertical-align: inherit;">如果不是，则构造一条错误消息，显示字典中的差异。</font><font style="vertical-align: inherit;">默认情况下，此方法将用于比较调用中的字典</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<p id="other-methods-and-attrs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了以下方法和属性：</font></font></p>
<dl class="method">
<dt id="unittest.TestCase.fail">
<code class="descname">fail</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg =无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.fail" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">msg</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误消息</font><font style="vertical-align: inherit;">无条件地发出测试失败信号</font><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestCase.failureException">
<code class="descname">failureException</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.failureException" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此类属性提供测试方法引发的异常。</font><font style="vertical-align: inherit;">如果测试框架需要使用专门的异常，可能携带额外的信息，它必须将此异常子类化，以便与框架“公平”。</font><font style="vertical-align: inherit;">该属性的初始值为
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#AssertionError" title="Asse田"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AssertionError</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestCase.longMessage">
<code class="descname">longMessage</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.longMessage" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此类属性确定将自定义失败消息作为失败的assertXYY调用的msg参数传递时发生的情况。
</font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是默认值。</font><font style="vertical-align: inherit;">在这种情况下，自定义消息将附加到标准故障消息的末尾。</font><font style="vertical-align: inherit;">设置</font></font><code class="docutils literal notranslate"><span class="pre">False</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为时，自定义消息将替换标准消息。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过</font><font style="vertical-align: inherit;">在调用assert方法之前</font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="docutils literal notranslate"><span class="pre">False</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前</font><font style="vertical-align: inherit;">分配实例属性self.longMessage，可以在单个测试方法中覆盖类设置</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在每次测试调用之前，类设置都会重置。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestCase.maxDiff">
<code class="descname">maxDiff</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.maxDiff" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此属性通过断言失败时报告差异的方法来控制输出的差异的最大长度。</font><font style="vertical-align: inherit;">默认为80 * 8个字符。</font><font style="vertical-align: inherit;">受此属性影响的断言方法
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertSequenceEqual" title="unittest.TestCase.assertSequenceEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertSequenceEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（包括委托给它的所有序列比较方法）</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertDictEqual" title="unittest.TestCase.assertDictEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertDictEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertMultiLineEqual" title="unittest.TestCase.assertMultiLineEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertMultiLineEqual()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font></font><code class="docutils literal notranslate"><span class="pre">maxDiff</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示没有最大差异长度。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
</dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试框架可以使用以下方法收集有关测试的信息：</font></font></p>
<dl class="method">
<dt id="unittest.TestCase.countTestCases">
<code class="descname">countTestCases</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.countTestCases" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回此测试对象表示的测试数。</font><font style="vertical-align: inherit;">对于
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">情况下，这将永远是</font></font><code class="docutils literal notranslate"><span class="pre">1</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.defaultTestResult">
<code class="descname">defaultTestResult</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.defaultTestResult" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回应该用于此测试用例类的测试结果类的实例（如果没有为该</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.run" title="unittest.TestCase.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">提供其他结果实例
 </font><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">情况下，这将永远是一个实例
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">子类</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该根据需要覆盖它。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.id">
<code class="descname">id</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.id" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回标识特定测试用例的字符串。</font><font style="vertical-align: inherit;">这通常是测试方法的全名，包括模块和类名。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.shortDescription">
<code class="descname">shortDescription</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.shortDescription" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回测试的描述，或者</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果没有提供描述。</font><font style="vertical-align: inherit;">此方法的默认实现返回测试方法的docstring的第一行（如果可用）或</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.1中已更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在3.1中，即使存在docstring，也会将测试名称添加到简短描述中。</font><font style="vertical-align: inherit;">这导致了unittest扩展的兼容性问题，并且添加了测试名称已移至
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TextTestResult" title="unittest.TextTestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextTestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python 3.2中。</font></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.addCleanup">
<code class="descname">addCleanup</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* args</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">** kwargs </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.addCleanup" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加要调用的函数以</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown" title="unittest.TestCase.tearDown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tearDown()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清除测试期间使用的资源。</font><font style="vertical-align: inherit;">函数将按其添加顺序（</font></font><abbr title="后进先出"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LIFO</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的</font><font style="vertical-align: inherit;">相反顺序调用</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它们</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.addCleanup" title="unittest.TestCase.addCleanup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addCleanup()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在添加时</font><font style="vertical-align: inherit;">通过任何参数和关键字参数调用
 </font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失败，意味着</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown" title="unittest.TestCase.tearDown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tearDown()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有调用，那么仍然会调用添加的任何清理函数。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestCase.doCleanups">
<code class="descname">doCleanups</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.doCleanups" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种方法被无条件后调用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown" title="unittest.TestCase.tearDown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tearDown()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或之后</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp" title="unittest.TestCase.setUp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUp()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抛出一个异常。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它负责调用所有添加的清理函数
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.addCleanup" title="unittest.TestCase.addCleanup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addCleanup()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果你需要清除函数被调用
 </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown" title="unittest.TestCase.tearDown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tearDown()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，那么你可以调用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.doCleanups" title="unittest.TestCase.doCleanups"><code class="xref py py-meth docutils literal notranslate"><span class="pre">doCleanups()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自己。</font></font></p>
<p><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.doCleanups" title="unittest.TestCase.doCleanups"><code class="xref py py-meth docutils literal notranslate"><span class="pre">doCleanups()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 一次一个地从一堆清理函数中弹出方法，因此可以随时调用它。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="unittest.FunctionTestCase">
<em class="property"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">class </font></font></em><code class="descclassname">unittest.</code><code class="descname">FunctionTestCase</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testFunc</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setUp = None</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tearDown = None</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">description = None </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.FunctionTestCase" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此类实现</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接口</font><font style="vertical-align: inherit;">的一部分</font><font style="vertical-align: inherit;">，允许测试运行器驱动测试，但不提供测试代码可用于检查和报告错误的方法。</font><font style="vertical-align: inherit;">这用于使用传统测试代码创建测试用例，允许将其集成到
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于测试的框架中。</font></font></p>
</dd></dl>

<div class="section" id="deprecated-aliases">
<span id="id1"></span><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不推荐使用的别名</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#deprecated-aliases" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于历史原因，某些</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法具有一个或多个现已弃用的别名。</font><font style="vertical-align: inherit;">下表列出了正确的名称及其弃用的别名：</font></font></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="40%">
<col width="29%">
<col width="31%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法名称</font></font></th>
<th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不推荐使用的别名</font></font></th>
<th class="head"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不推荐使用的别名</font></font></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" title="unittest.TestCase.assertEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertEqual()</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">failUnlessEqual</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的assertEquals</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotEqual" title="unittest.TestCase.assertNotEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotEqual()</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">failIfEqual</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assertNotEquals</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue" title="unittest.TestCase.assertTrue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertTrue()</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">failUnless</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">断言_</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertFalse" title="unittest.TestCase.assertFalse"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertFalse()</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">failIf</font></font></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises" title="unittest.TestCase.assertRaises"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaises()</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">failUnlessRaises</font></font></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertAlmostEqual" title="unittest.TestCase.assertAlmostEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertAlmostEqual()</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">failUnlessAlmostEqual</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assertAlmostEquals</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotAlmostEqual" title="unittest.TestCase.assertNotAlmostEqual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotAlmostEqual()</span></code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">failIfAlmostEqual</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assertNotAlmostEquals</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRegex" title="unittest.TestCase.assertRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRegex()</span></code></a></td>
<td>&nbsp;</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assertRegexpMatches</font></font></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotRegex" title="unittest.TestCase.assertNotRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotRegex()</span></code></a></td>
<td>&nbsp;</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assertNotRegexpMatches</font></font></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex" title="unittest.TestCase.assertRaisesRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaisesRegex()</span></code></a></td>
<td>&nbsp;</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assertRaisesRegexp</font></font></td>
</tr>
</tbody>
</table>
<div class="deprecated">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自3.1版以来不推荐使用：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二列中列出的失败*别名。</font></font></p>
</div>
<div class="deprecated">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自3.2版以来不推荐使用：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第三列中列出的断言*别名。</font></font></p>
</div>
<div class="deprecated">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自从3.2版本不推荐使用：</font></font></span><code class="docutils literal notranslate"><span class="pre">assertRegexpMatches</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><code class="docutils literal notranslate"><span class="pre">assertRaisesRegexp</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已更名为
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRegex" title="unittest.TestCase.assertRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRegex()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaisesRegex" title="unittest.TestCase.assertRaisesRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertRaisesRegex()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="deprecated">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从版本3.5开始不推荐使用：</font></font></span><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">assertNotRegexpMatches</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">赞成</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">名称</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotRegex" title="unittest.TestCase.assertNotRegex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assertNotRegex()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="grouping-tests">
<span id="testsuite-objects"></span><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分组测试</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#grouping-tests" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<dl class="class">
<dt id="unittest.TestSuite">
<em class="property"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">class </font></font></em><code class="descclassname">unittest.</code><code class="descname">TestSuite</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tests =（）</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此类表示各个测试用例和测试套件的集合。</font><font style="vertical-align: inherit;">该类提供了测试运行器所需的接口，以允许它像任何其他测试用例一样运行。</font><font style="vertical-align: inherit;">运行</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例与迭代套件相同，单独运行每个测试。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">给出了</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它必须是可以迭代的单个测试用例或最初用于构建套件的其他测试套件。</font><font style="vertical-align: inherit;">提供了其他方法，以便稍后将测试用例和套件添加到集合中。</font></font></p>
<p><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象的行为与</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font><font style="vertical-align: inherit;">非常相似</font><font style="vertical-align: inherit;">，除非它们实际上没有实现测试。</font><font style="vertical-align: inherit;">相反，它们用于将测试聚合到应该一起运行的测试组中。</font><font style="vertical-align: inherit;">可以使用一些其他方法向</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">添加测试</font><font style="vertical-align: inherit;">：</font></font></p>
<dl class="method">
<dt id="unittest.TestSuite.addTest">
<code class="descname">addTest</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.addTest" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加一个</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到套件。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestSuite.addTests">
<code class="descname">addTests</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.addTests" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将可迭代的</font><font style="vertical-align: inherit;">
实例</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例中的</font><font style="vertical-align: inherit;">所有测试添加</font><font style="vertical-align: inherit;">到此测试套件中。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这相当于迭代</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，调用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.addTest" title="unittest.TestSuite.addTest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addTest()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个元素。</font></font></p>
</dd></dl>

<p><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与以下方法共享</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<dl class="method">
<dt id="unittest.TestSuite.run">
<code class="descname">run</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.run" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行与此套件关联的测试，将结果收集到作为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传递的测试结果对象中</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">需要注意的是不同
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.run" title="unittest.TestCase.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestCase.run()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.run" title="unittest.TestSuite.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestSuite.run()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要的结果对象中进行传递。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestSuite.debug">
<code class="descname">debug</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.debug" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行与此套件关联的测试而不收集结果。</font><font style="vertical-align: inherit;">这允许测试引发的异常传播到调用者，并可用于支持调试器下的运行测试。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestSuite.countTestCases">
<code class="descname">countTestCases</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.countTestCases" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回此测试对象表示的测试数，包括所有单独的测试和子套件。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestSuite.__iter__">
<code class="descname">__iter__</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.__iter__" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按a分组的测试</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">始终通过迭代访问。</font><font style="vertical-align: inherit;">子类可以通过覆盖来懒惰地提供测试</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.__iter__" title="unittest.TestSuite .__ iter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__iter__()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请注意，可以在单个套件上多次调用此方法（例如，在计算测试或比较相等性时），因此之前重复迭代返回的测试</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.run" title="unittest.TestSuite.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestSuite.run()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于每次调用迭代必须相同。</font><font style="vertical-align: inherit;">之后</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.run" title="unittest.TestSuite.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestSuite.run()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，调用者不应该依赖此方法返回的测试，除非调用者使用覆盖的子类</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestSuite._removeTestAtIndex()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来保留测试引用。</font></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在版本3.2中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在早期版本中，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问测试直接而不是通过迭代进行测试，因此覆盖</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.__iter__" title="unittest.TestSuite .__ iter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__iter__()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不足以提供测试。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改变在3.4版：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在早期版本的</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">召开给每个引用
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之后</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.run" title="unittest.TestSuite.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestSuite.run()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">子类可以通过覆盖来恢复该行为</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestSuite._removeTestAtIndex()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
</dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font><font style="vertical-align: inherit;">的典型用法中</font><font style="vertical-align: inherit;">，该</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite.run" title="unittest.TestSuite.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法由</font></font><code class="xref py py-class docutils literal notranslate"><span class="pre">TestRunner</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是由最终用户测试工具</font><font style="vertical-align: inherit;">调用</font><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

</div>
<div class="section" id="loading-and-running-tests">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加载和运行测试</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#loading-and-running-tests" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<dl class="class">
<dt id="unittest.TestLoader">
<em class="property"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类</font></font></em><code class="descclassname">unittest.</code><code class="descname">TestLoader</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所述</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader" title="unittest.TestLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestLoader</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类被用来创建从类和模块的测试套件。</font><font style="vertical-align: inherit;">通常，不需要创建此类的实例; </font><font style="vertical-align: inherit;">该
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块提供了一个可以共享的实例
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.defaultTestLoader" title="unittest.defaultTestLoader"><code class="xref py py-data docutils literal notranslate"><span class="pre">unittest.defaultTestLoader</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，使用子类或实例可以自定义一些可配置的属性。</font></font></p>
<p><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader" title="unittest.TestLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestLoader</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 对象具有以下属性：</font></font></p>
<dl class="attribute">
<dt id="unittest.TestLoader.errors">
<code class="descname">errors</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.errors" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加载测试时遇到的非致命错误列表。</font><font style="vertical-align: inherit;">任何时候都不会被加载器重置。</font><font style="vertical-align: inherit;">致命错误由相关的方法发出信号，该方法向调用者提出异常。</font><font style="vertical-align: inherit;">非致命错误也由合成测试指示，该测试将在运行时引发原始错误。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.5中的新功能。</font></font></span></p>
</div>
</dd></dl>

<p><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader" title="unittest.TestLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestLoader</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 对象具有以下方法：</font></font></p>
<dl class="method">
<dt id="unittest.TestLoader.loadTestsFromTestCase">
<code class="descname">loadTestsFromTestCase</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testCaseClass </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.loadTestsFromTestCase" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回包含在</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-derived中
 </font><font style="vertical-align: inherit;">的所有测试用例的套件</font></font><code class="xref py py-class docutils literal notranslate"><span class="pre">testCaseClass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为每个命名的方法创建一个测试用例实例
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.getTestCaseNames" title="unittest.TestLoader.getTestCaseNames"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTestCaseNames()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认情况下，这些是以...开头的方法名称</font></font><code class="docutils literal notranslate"><span class="pre">test</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.getTestCaseNames" title="unittest.TestLoader.getTestCaseNames"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTestCaseNames()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有返回方法，但</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">runTest()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现了</font><font style="vertical-align: inherit;">该</font><font style="vertical-align: inherit;">方法，则会为该方法创建一个测试用例。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestLoader.loadTestsFromModule">
<code class="descname">loadTestsFromModule</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式=无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.loadTestsFromModule" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回给定模块中包含的所有测试用例的套件。</font><font style="vertical-align: inherit;">此方法在</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font><font style="vertical-align: inherit;">搜索</font><font style="vertical-align: inherit;">派生自的类，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并为为该类定义的每个测试方法创建该类的实例。</font></font></p>
<div class="admonition note">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然使用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-derived类</font><font style="vertical-align: inherit;">的层次结构</font><font style="vertical-align: inherit;">可以方便地共享fixture和helper函数，但是在不打算直接实例化的基类上定义测试方法并不适合这种方法。</font><font style="vertical-align: inherit;">但是，当灯具不同并在子类中定义时，这样做会很有用。</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果模块提供了一个</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数，则会调用它来加载测试。</font><font style="vertical-align: inherit;">这允许模块自定义测试加载。</font><font style="vertical-align: inherit;">这是</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#load-tests-protocol"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">load_tests协议</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图案</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数作为第三个参数来传递</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中已更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.5中已更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已弃用并忽略</font><font style="vertical-align: inherit;">未记录和非正式的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">use_load_tests</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认参数，但仍可接受向后兼容性。</font><font style="vertical-align: inherit;">该方法现在还接受仅关键字参数
 </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，该</font><em><font style="vertical-align: inherit;">模式</font></em></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为第三个参数</font><font style="vertical-align: inherit;">传递</font><font style="vertical-align: inherit;">。</font></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestLoader.loadTestsFromName">
<code class="descname">loadTestsFromName</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块=无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.loadTestsFromName" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给出一个字符串说明符，返回所有测试用例的套件。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">说明符</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是“点名称”，可以解析模块，测试用例类，测试用例类中的测试方法，
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例或返回</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">的可调用对象
 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这些检查按此处列出的顺序应用; </font><font style="vertical-align: inherit;">也就是说，可能的测试用例类的方法将被选为“测试用例类中的测试方法”，而不是“可调用对象”。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，如果您的模块</font></font><code class="xref py py-mod docutils literal notranslate"><span class="pre">SampleTests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含</font><font style="vertical-align: inherit;">带有三个测试方法（</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">的
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-derived类</font><font style="vertical-align: inherit;">，则说明符</font><font style="vertical-align: inherit;">将使此方法返回一个将运行所有三个测试方法的套件。</font><font style="vertical-align: inherit;">使用说明符
 </font><font style="vertical-align: inherit;">会使它返回一个仅运行</font><font style="vertical-align: inherit;">测试方法</font><font style="vertical-align: inherit;">的测试套件</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">说明符可以引用尚未导入的模块和包; </font><font style="vertical-align: inherit;">它们将作为副作用导入。</font></font><code class="xref py py-class docutils literal notranslate"><span class="pre">SampleTestCase</span></code><font style="vertical-align: inherit;"></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_one()</span></code><font style="vertical-align: inherit;"></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_two()</span></code><font style="vertical-align: inherit;"></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_three()</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">'SampleTests.SampleTestCase'</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">'SampleTests.SampleTestCase.test_two'</span></code><font style="vertical-align: inherit;"></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_two()</span></code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该方法可选地解析</font><font style="vertical-align: inherit;">相对于给定</font><em><font style="vertical-align: inherit;">模块的</font></em></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在版本3.5中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">在遍历</font><em><font style="vertical-align: inherit;">名称</font></em><font style="vertical-align: inherit;">时发生</font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ImportError" title="导入错误"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportError</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="AttributeError的"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发生，
 </font><font style="vertical-align: inherit;">则将返回在运行时引发该错误的综合测试。</font><font style="vertical-align: inherit;">这些错误包含在self.errors累积的错误中。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestLoader.loadTestsFromNames">
<code class="descname">loadTestsFromNames</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块=无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.loadTestsFromNames" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与之类似</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.loadTestsFromName" title="unittest.TestLoader.loadTestsFromName"><code class="xref py py-meth docutils literal notranslate"><span class="pre">loadTestsFromName()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但采用一系列名称而不是单个名称。</font><font style="vertical-align: inherit;">返回值是一个测试套件，它支持为每个名称定义的所有测试。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestLoader.getTestCaseNames">
<code class="descname">getTestCaseNames</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testCaseClass </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.getTestCaseNames" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回在</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testCaseClass中</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到的已排序的方法名称序列</font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">这应该是一个子类</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestLoader.discover">
<code class="descname">discover</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">start_dir</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pattern ='test * .py'</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">top_level_dir = None </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.discover" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过从指定的起始目录递归到子目录中查找所有测试模块，并返回包含它们的TestSuite对象。</font><font style="vertical-align: inherit;">仅</font><font style="vertical-align: inherit;">加载</font><font style="vertical-align: inherit;">与</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匹配的测试文件</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（使用shell样式模式匹配。）只加载可导入的模块名称（即有效的Python标识符）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有测试模块必须可从项目的顶层导入。</font><font style="vertical-align: inherit;">如果起始目录不是顶级目录，则必须单独指定顶级目录。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果导入模块失败（例如由于语法错误），则会将其记录为单个错误，并且将继续发现。</font><font style="vertical-align: inherit;">如果导致导入失败</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.SkipTest" title="unittest.SkipTest"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SkipTest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则会将其记录为跳过而不是错误。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果找到包（包含名为file的目录</font></font><code class="file docutils literal notranslate"><span class="pre">__init__.py</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），则将检查包的</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能。</font><font style="vertical-align: inherit;">如果存在，那么它将被调用
 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">测试发现需要注意确保在调用期间仅检查一次包测试，即使load_tests函数本身调用也是如此
 </font><font style="vertical-align: inherit;">。</font></font><code class="docutils literal notranslate"><span class="pre">package.load_tests(loader,</span> <span class="pre">tests,</span> <span class="pre">pattern)</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">loader.discover</span></code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存在，那么发现并</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">递归放入包中，</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">负责加载包中的所有测试。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">故意不将该模式存储为loader属性，以便包可以继续自己发现。</font><font style="vertical-align: inherit;">存储</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">top_level_dir</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此
 </font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不需要将此参数传递给
 </font></font><code class="docutils literal notranslate"><span class="pre">loader.discover()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">start_dir</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以是虚线模块名称以及目录。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.4中更改：</font></font></span><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.SkipTest" title="unittest.SkipTest"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SkipTest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导入时</font><font style="vertical-align: inherit;">引发的模块</font><font style="vertical-align: inherit;">记录为跳过，而不是错误。</font><font style="vertical-align: inherit;">发现适用于</font></font><a class="reference internal" href="https://docs.python.org/3/glossary.html#term-namespace-package"><span class="xref std std-term"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名空间包</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在导入之前对路径进行排序，以便即使基础文件系统的排序不依赖于文件名，执行顺序也是相同的。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在版本3.5中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在检查找到的包</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，无论它们的路径是否与</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匹配</font><font style="vertical-align: inherit;">，因为包名称不可能与默认模式匹配。</font></font></p>
</div>
</dd></dl>

<p><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader" title="unittest.TestLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestLoader</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以通过子类化或在实例上赋值来配置</font><font style="vertical-align: inherit;">a的以下属性</font><font style="vertical-align: inherit;">：</font></font></p>
<dl class="attribute">
<dt id="unittest.TestLoader.testMethodPrefix">
<code class="descname">testMethodPrefix</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.testMethodPrefix" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给出方法名称前缀的字符串，将被解释为测试方法。</font><font style="vertical-align: inherit;">默认值为</font></font><code class="docutils literal notranslate"><span class="pre">'test'</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这影响了</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.getTestCaseNames" title="unittest.TestLoader.getTestCaseNames"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTestCaseNames()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">loadTestsFrom*()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
方法。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestLoader.sortTestMethodsUsing">
<code class="descname">sortTestMethodsUsing</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.sortTestMethodsUsing" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在对它们进行排序</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.getTestCaseNames" title="unittest.TestLoader.getTestCaseNames"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTestCaseNames()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和所有</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">loadTestsFrom*()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">时用于比较方法名称的函数
 </font><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestLoader.suiteClass">
<code class="descname">suiteClass</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.suiteClass" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可调用对象，从测试列表构造测试套件。</font><font style="vertical-align: inherit;">不需要对结果对象的方法。</font><font style="vertical-align: inherit;">默认值是
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这会影响所有</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">loadTestsFrom*()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestLoader.testNamePatterns">
<code class="descname">testNamePatterns</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.testNamePatterns" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试方法必须匹配的Unix shell样式通配符测试名称模式列表，以包含在测试套件中（请参阅</font></font><code class="docutils literal notranslate"><span class="pre">-v</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果此属性不是</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（缺省值），则要包含在测试套件中的所有测试方法都必须与此列表中的某个模式匹配。</font><font style="vertical-align: inherit;">请注意，匹配始终使用</font></font><a class="reference internal" href="https://docs.python.org/3/library/fnmatch.html#fnmatch.fnmatchcase" title="fnmatch.fnmatchcase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fnmatch.fnmatchcase()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此与传递给</font></font><code class="docutils literal notranslate"><span class="pre">-v</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项的模式不同，必须使用</font></font><code class="docutils literal notranslate"><span class="pre">*</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通配符</font><font style="vertical-align: inherit;">转换简单子字符串模式</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这会影响所有</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">loadTestsFrom*()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.7中的新功能。</font></font></span></p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="unittest.TestResult">
<em class="property"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类</font></font></em><code class="descclassname">unittest.</code><code class="descname">TestResult</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此类用于编译有关哪些测试成功以及哪些测试失败的信息。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象存储一组测试的结果。</font><font style="vertical-align: inherit;">在
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">班保证结果正确记录; </font><font style="vertical-align: inherit;">测试作者无需担心记录测试结果。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建在其上的测试框架</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="unittest：Python的单元测试框架。"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能希望访问</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过运行一组测试生成</font><font style="vertical-align: inherit;">的
 </font><font style="vertical-align: inherit;">对象以用于报告目的; </font><font style="vertical-align: inherit;">为此目的</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestRunner.run()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">返回</font><font style="vertical-align: inherit;">一个</font><font style="vertical-align: inherit;">实例
 </font><font style="vertical-align: inherit;">。</font></font></p>
<p><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 在检查运行一组测试的结果时，实例具有以下属性：</font></font></p>
<dl class="attribute">
<dt id="unittest.TestResult.errors">
<code class="descname">errors</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.errors" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含2元组</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例和</font><font style="vertical-align: inherit;">包含</font><font style="vertical-align: inherit;">格式化回溯的字符串的</font><font style="vertical-align: inherit;">列表</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">每个元组代表一个引发意外异常的测试。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestResult.failures">
<code class="descname">failures</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.failures" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含2元组</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例和</font><font style="vertical-align: inherit;">包含</font><font style="vertical-align: inherit;">格式化回溯的字符串的</font><font style="vertical-align: inherit;">列表</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">每个元组代表一个测试，其中使用这些</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestCase.assert*()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">明确地发出故障信号</font><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestResult.skipped">
<code class="descname">skipped</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.skipped" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含2元组</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例和字符串的</font><font style="vertical-align: inherit;">列表，其中包含</font><font style="vertical-align: inherit;">跳过测试的原因。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestResult.expectedFailures">
<code class="descname">expectedFailures</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.expectedFailures" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含2元组</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例和</font><font style="vertical-align: inherit;">包含</font><font style="vertical-align: inherit;">格式化回溯的字符串的</font><font style="vertical-align: inherit;">列表</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">每个元组代表测试用例的预期失败。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestResult.unexpectedSuccesses">
<code class="descname">unexpectedSuccesses</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.unexpectedSuccesses" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记为预期失败但成功的实例</font><font style="vertical-align: inherit;">的列表</font><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestResult.shouldStop">
<code class="descname">shouldStop</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.shouldStop" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为</font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该停止执行测试</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.stop" title="unittest.TestResult.stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stop()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestResult.testsRun">
<code class="descname">testsRun</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.testsRun" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到目前为止测试的总数。</font></font></p>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestResult.buffer">
<code class="descname">buffer</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.buffer" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置为true，</font></font><code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且</font></font><code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将在之间进行缓冲
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.startTest" title="unittest.TestResult.startTest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">startTest()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.stopTest" title="unittest.TestResult.stopTest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stopTest()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被调用。</font><font style="vertical-align: inherit;">收集的输出只会回显到真实的</font></font><code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果测试失败或错误。</font><font style="vertical-align: inherit;">任何输出也附加到故障/错误消息。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestResult.failfast">
<code class="descname">failfast</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.failfast" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.stop" title="unittest.TestResult.stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stop()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在第一次失败或错误时调用</font><font style="vertical-align: inherit;">设置为true </font><font style="vertical-align: inherit;">，则暂停测试运行。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="unittest.TestResult.tb_locals">
<code class="descname">tb_locals</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.tb_locals" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置为true，则局部变量将显示在回溯中。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.5中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.wasSuccessful">
<code class="descname">wasSuccessful</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.wasSuccessful" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回</font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果所有测试跑这么远都过去了，否则返回
 </font></font><code class="docutils literal notranslate"><span class="pre">False</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.4中更改：</font></font></span><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">False</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果有任何</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.unexpectedSuccesses" title="unittest.TestResult.unexpectedSuccesses"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unexpectedSuccesses</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
来自</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.expectedFailure" title="unittest.expectedFailure"><code class="xref py py-func docutils literal notranslate"><span class="pre">expectedFailure()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">装饰器的</font><font style="vertical-align: inherit;">测试，则</font><font style="vertical-align: inherit;">返回</font><font style="vertical-align: inherit;">。</font></font></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.stop">
<code class="descname">stop</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.stop" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以调用此方法来表示应该通过将</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.shouldStop" title="unittest.TestResult.shouldStop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">shouldStop</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font><font style="vertical-align: inherit;">设置为中止来运行正在运行的测试集</font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font><code class="xref py py-class docutils literal notranslate"><span class="pre">TestRunner</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象应该尊重此标志并返回而不运行任何其他测试。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TextTestRunner" title="unittest.TextTestRunner"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextTestRunner</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当用户通过键盘发出中断信号时，类</font><font style="vertical-align: inherit;">使用此功能</font><font style="vertical-align: inherit;">来停止测试框架。</font><font style="vertical-align: inherit;">提供</font></font><code class="xref py py-class docutils literal notranslate"><span class="pre">TestRunner</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实现的</font><font style="vertical-align: inherit;">交互式工具</font><font style="vertical-align: inherit;">可以以类似的方式使用它。</font></font></p>
</dd></dl>

<p><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该类</font><font style="vertical-align: inherit;">的以下方法</font><font style="vertical-align: inherit;">用于维护内部数据结构，并且可以在子类中进行扩展以支持其他报告要求。</font><font style="vertical-align: inherit;">这对于构建在运行测试时支持交互式报告的工具特别有用。</font></font></p>
<dl class="method">
<dt id="unittest.TestResult.startTest">
<code class="descname">startTest</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.startTest" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font><font style="vertical-align: inherit;">即将运行</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试用例测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时调用</font><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.stopTest">
<code class="descname">stopTest</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.stopTest" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论结果如何，在执行</font><font style="vertical-align: inherit;">测试用例</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后调用</font><font style="vertical-align: inherit;">。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.startTestRun">
<code class="descname">startTestRun</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.startTestRun" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在执行任何测试之前调用一次。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.stopTestRun">
<code class="descname">stopTestRun</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.stopTestRun" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行所有测试后调用一次。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1版中的新功能。</font></font></span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.addError">
<code class="descname">addError</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.addError" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在测试用例</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引发意外异常</font><font style="vertical-align: inherit;">时调用</font><font style="vertical-align: inherit;">。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是由以下形式返回的形式的元组</font></font><a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.exc_info" title="sys.exc_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exc_info()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font><font style="vertical-align: inherit;">。</font></font><code class="docutils literal notranslate"><span class="pre">(type,</span> <span class="pre">value,</span>
<span class="pre">traceback)</span></code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认实现将元组附加</font><font style="vertical-align: inherit;">到实例的</font><font style="vertical-align: inherit;">属性，其中</font><em><font style="vertical-align: inherit;">formatted_err</font></em><font style="vertical-align: inherit;">是从</font><em><font style="vertical-align: inherit;">err</font></em><font style="vertical-align: inherit;">派生的格式化回溯</font><font style="vertical-align: inherit;">。</font></font><code class="docutils literal notranslate"><span class="pre">(test,</span> <span class="pre">formatted_err)</span></code><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.errors" title="unittest.TestResult.errors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">errors</span></code></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.addFailure">
<code class="descname">addFailure</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.addFailure" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当测试用例</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发出故障信号</font><font style="vertical-align: inherit;">时调用</font><font style="vertical-align: inherit;">。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是由以下形式返回的形式的元组</font></font><a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.exc_info" title="sys.exc_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exc_info()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font><font style="vertical-align: inherit;">。</font></font><code class="docutils literal notranslate"><span class="pre">(type,</span> <span class="pre">value,</span> <span class="pre">traceback)</span></code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认实现将元组附加</font><font style="vertical-align: inherit;">到实例的</font><font style="vertical-align: inherit;">属性，其中</font><em><font style="vertical-align: inherit;">formatted_err</font></em><font style="vertical-align: inherit;">是从</font><em><font style="vertical-align: inherit;">err</font></em><font style="vertical-align: inherit;">派生的格式化回溯</font><font style="vertical-align: inherit;">。</font></font><code class="docutils literal notranslate"><span class="pre">(test,</span> <span class="pre">formatted_err)</span></code><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.failures" title="unittest.TestResult.failures"><code class="xref py py-attr docutils literal notranslate"><span class="pre">failures</span></code></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.addSuccess">
<code class="descname">addSuccess</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.addSuccess" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在测试用例</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功</font><font style="vertical-align: inherit;">时调用</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认实现什么都不做。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.addSkip">
<code class="descname">addSkip</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原因</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.addSkip" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font><font style="vertical-align: inherit;">跳过</font><font style="vertical-align: inherit;">测试用例</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时调用</font><font style="vertical-align: inherit;">。  </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原因</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是测试给跳过的原因。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认实现将元组附加</font><font style="vertical-align: inherit;">到实例的</font><font style="vertical-align: inherit;">属性。</font></font><code class="docutils literal notranslate"><span class="pre">(test,</span> <span class="pre">reason)</span></code><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.skipped" title="unittest.TestResult.skipped"><code class="xref py py-attr docutils literal notranslate"><span class="pre">skipped</span></code></a><font style="vertical-align: inherit;"></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.addExpectedFailure">
<code class="descname">addExpectedFailure</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.addExpectedFailure" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在测试用例</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失败</font><font style="vertical-align: inherit;">时调用</font><font style="vertical-align: inherit;">，但是用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.expectedFailure" title="unittest.expectedFailure"><code class="xref py py-func docutils literal notranslate"><span class="pre">expectedFailure()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">装饰器</font><font style="vertical-align: inherit;">标记
 </font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认实现将元组附加</font><font style="vertical-align: inherit;">到实例的</font><font style="vertical-align: inherit;">属性，其中</font><em><font style="vertical-align: inherit;">formatted_err</font></em><font style="vertical-align: inherit;"> 
是从</font><em><font style="vertical-align: inherit;">err</font></em><font style="vertical-align: inherit;">派生的格式化回溯</font><font style="vertical-align: inherit;">。</font></font><code class="docutils literal notranslate"><span class="pre">(test,</span> <span class="pre">formatted_err)</span></code><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.expectedFailures" title="unittest.TestResult.expectedFailures"><code class="xref py py-attr docutils literal notranslate"><span class="pre">expectedFailures</span></code></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.addUnexpectedSuccess">
<code class="descname">addUnexpectedSuccess</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.addUnexpectedSuccess" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当测试用例</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.expectedFailure" title="unittest.expectedFailure"><code class="xref py py-func docutils literal notranslate"><span class="pre">expectedFailure()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">装饰器</font><font style="vertical-align: inherit;">标记
 </font><font style="vertical-align: inherit;">时调用</font><font style="vertical-align: inherit;">，但成功。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认实现将测试附加到实例的
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.unexpectedSuccesses" title="unittest.TestResult.unexpectedSuccesses"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unexpectedSuccesses</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。</font></font></p>
</dd></dl>

<dl class="method">
<dt id="unittest.TestResult.addSubTest">
<code class="descname">addSubTest</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分测试</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.addSubTest" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在子测试结束时调用。  </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是与测试方法对应的测试用例。  </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">subtest</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述子测试</font><font style="vertical-align: inherit;">的自定义
 </font><font style="vertical-align: inherit;">实例。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><a class="reference internal" href="https://docs.python.org/3/library/constants.html#None" title="没有"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则子测试成功。</font><font style="vertical-align: inherit;">否则，它失败并出现异常，其中</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是由以下形式返回的表单的元组</font></font><a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.exc_info" title="sys.exc_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exc_info()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font><font style="vertical-align: inherit;">。</font></font><code class="docutils literal notranslate"><span class="pre">(type,</span> <span class="pre">value,</span> <span class="pre">traceback)</span></code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果成功时，默认实现不执行任何操作，并将子测试失败记录为正常故障。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.4中的新功能。</font></font></span></p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="unittest.TextTestResult">
<em class="property"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">class </font></font></em><code class="descclassname">unittest.</code><code class="descname">TextTestResult</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">详细程度</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TextTestResult" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具体实现的</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被使用
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TextTestRunner" title="unittest.TextTestRunner"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextTestRunner</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此类之前已命名</font></font><code class="docutils literal notranslate"><span class="pre">_TextTestResult</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">旧名称仍作为别名存在，但已弃用。</font></font></p>
</div>
</dd></dl>

<dl class="data">
<dt id="unittest.defaultTestLoader">
<code class="descclassname">unittest.</code><code class="descname">defaultTestLoader</code><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.defaultTestLoader" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader" title="unittest.TestLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestLoader</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要共享</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">类的</font><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果不需要自定义，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader" title="unittest.TestLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestLoader</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则可以使用此实例而不是重复创建新实例。</font></font></p>
</dd></dl>

<dl class="class">
<dt id="unittest.TextTestRunner">
<em class="property"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">class </font></font></em><code class="descclassname">unittest.</code><code class="descname">TextTestRunner</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stream = None</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">description = True</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verbosity = 1</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">failfast = False</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">buffer = False</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resultclass = None</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">warnings = None</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tb_locals = False </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TextTestRunner" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将结果输出到流的基本测试运行器实现。</font><font style="vertical-align: inherit;">如果</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
是</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，默认，</font></font><a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.stderr" title="sys.stderr"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stderr</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用作输出流。</font><font style="vertical-align: inherit;">这个类有一些可配置的参数，但基本上非常简单。</font><font style="vertical-align: inherit;">运行测试套件的图形应用程序应提供备用实现。</font></font><code class="docutils literal notranslate"><span class="pre">**kwargs</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当将功能添加到unittest时，</font><font style="vertical-align: inherit;">此类实现应该接受</font><font style="vertical-align: inherit;">构造运行程序更改的接口。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，这个亚军显示</font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#PendingDeprecationWarning" title="PendingDeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PendingDeprecationWarning</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ResourceWarning" title="ResourceWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ResourceWarning</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#ImportWarning" title="ImportWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportWarning</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使他们是</font></font><a class="reference internal" href="https://docs.python.org/3/library/warnings.html#warning-ignored"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认被忽略掉</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">不</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#deprecated-aliases"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">推荐使用的单元测试方法</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致的</font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#deprecated-aliases"><span class="std std-ref"><font style="vertical-align: inherit;">弃用</font></span></a><font style="vertical-align: inherit;">警告</font><font style="vertical-align: inherit;">也是特殊的，当警告过滤器为</font></font><code class="docutils literal notranslate"><span class="pre">'default'</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font></font><code class="docutils literal notranslate"><span class="pre">'always'</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它们每个模块只出现一次，以避免过多的警告消息。</font><font style="vertical-align: inherit;">这种行为可以使用Python的覆盖</font></font><code class="xref std std-option docutils literal notranslate"><span class="pre">-Wd</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="xref std std-option docutils literal notranslate"><span class="pre">-Wa</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项（见</font></font><a class="reference internal" href="https://docs.python.org/3/using/cmdline.html#using-on-warnings"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告控制</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和离开
 </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的警告</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中已更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了</font></font><code class="docutils literal notranslate"><span class="pre">warnings</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在版本3.2中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认流设置为</font></font><a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.stderr" title="sys.stderr"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stderr</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例化时间而不是导入时间。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.5中已更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了tb_locals参数。</font></font></p>
</div>
<dl class="method">
<dt id="unittest.TextTestRunner._makeResult">
<code class="descname">_makeResult</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TextTestRunner._makeResult" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此方法返回</font></font><code class="docutils literal notranslate"><span class="pre">TestResult</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">used </font><font style="vertical-align: inherit;">的实例</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TextTestRunner.run" title="unittest.TextTestRunner.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它不是直接调用的，但可以在子类中重写以提供自定义</font></font><code class="docutils literal notranslate"><span class="pre">TestResult</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><code class="docutils literal notranslate"><span class="pre">_makeResult()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例化</font></font><code class="docutils literal notranslate"><span class="pre">TextTestRunner</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构造函数中</font><font style="vertical-align: inherit;">传递的类或可调
 </font></font><code class="docutils literal notranslate"><span class="pre">resultclass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font><font style="vertical-align: inherit;">作为</font><font style="vertical-align: inherit;">参数。</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TextTestResult" title="unittest.TextTestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextTestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果没有</font></font><code class="docutils literal notranslate"><span class="pre">resultclass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">则</font><font style="vertical-align: inherit;">默认为</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">结果类使用以下参数进行实例化：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">stream</span><span class="p">,</span> <span class="n">descriptions</span><span class="p">,</span> <span class="n">verbosity</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="unittest.TextTestRunner.run">
<code class="descname">run</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.TextTestRunner.run" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个方法是主要的公共接口</font></font><code class="docutils literal notranslate"><span class="pre">TextTestRunner</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这个方法需要一个</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">一个</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例。</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过调用创建
 </font><font style="vertical-align: inherit;">A
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TextTestRunner._makeResult" title="unittest.TextTestRunner._makeResult"><code class="xref py py-func docutils literal notranslate"><span class="pre">_makeResult()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，运行测试并将结果打印到stdout。</font></font></p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="unittest.main">
<code class="descclassname">unittest.</code><code class="descname">main</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块= '__ main__' </font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">defaultTest =无</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argv的=无</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestRunner的=无</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testLoader = unittest.defaultTestLoader</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出口=真</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">冗长= 1</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FAILFAST =无</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">catchbreak =无</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓冲=无</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告=无</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.main" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个命令行程序，它从</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加载一组测试</font><font style="vertical-align: inherit;">并运行它们; </font><font style="vertical-align: inherit;">这主要是为了使测试模块可以方便地执行。</font><font style="vertical-align: inherit;">此函数最简单的用法是在测试脚本的末尾包含以下行：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以通过传递详细信息参数来运行具有更详细信息的测试：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">verbosity</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所述</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">defaultTest</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数是一个单一的测试中的名称或测试名称可迭代如果经由未指定试验名称来运行</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的argv</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果未指定或</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">且未通过</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argv</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供测试名称</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">则运行</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的</font><font style="vertical-align: inherit;">所有测试</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argv的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数可以是传递给程序的选项列表，第一个元素是程序名称。</font><font style="vertical-align: inherit;">如果未指定</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.argv" title="sys.argv中"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.argv</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则使用</font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所述</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的TestRunner</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数可以是一个测试运行类或它的一个已创建的实例。</font><font style="vertical-align: inherit;">默认情况下</font><font style="vertical-align: inherit;">，使用退出代码</font></font><code class="docutils literal notranslate"><span class="pre">main</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用</font></font><a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.exit" title="sys.exit"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exit()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，指示运行测试成功或失败。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testLoader</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数必须是一个</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader" title="unittest.TestLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestLoader</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例，并默认为</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.defaultTestLoader" title="unittest.defaultTestLoader"><code class="xref py py-data docutils literal notranslate"><span class="pre">defaultTestLoader</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><code class="docutils literal notranslate"><span class="pre">main</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持通过传入参数从交互式解释器中使用</font></font><code class="docutils literal notranslate"><span class="pre">exit=False</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这将在标准输出上显示结果而不调用</font></font><a class="reference internal" href="https://docs.python.org/3/library/sys.html#sys.exit" title="sys.exit"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exit()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="k">import</span> <span class="n">main</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="s1">'test_module'</span><span class="p">,</span> <span class="n">exit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">故障快速转移</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">catchbreak</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓冲</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数具有与相同名称的相同的效果</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#command-line-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的命令行选项</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数指定的</font></font><a class="reference internal" href="https://docs.python.org/3/library/warnings.html#warning-filter"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告过滤器</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
应该在运行测试中使用。</font><font style="vertical-align: inherit;">如果没有指定，它仍将</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果一个</font></font><code class="xref std std-option docutils literal notranslate"><span class="pre">-W</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项传递给</font></font><strong class="program"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">蟒蛇</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
（见</font></font><a class="reference internal" href="https://docs.python.org/3/using/cmdline.html#using-on-warnings"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告控制</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），否则将被设置为</font></font><code class="docutils literal notranslate"><span class="pre">'default'</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用</font></font><code class="docutils literal notranslate"><span class="pre">main</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际上返回</font></font><code class="docutils literal notranslate"><span class="pre">TestProgram</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类</font><font style="vertical-align: inherit;">的实例</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这会将测试结果存储为</font></font><code class="docutils literal notranslate"><span class="pre">result</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。</font></font></p>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在3.1版本中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加参数。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在版本3.2改变：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">冗长</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FAILFAST</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">catchbreak</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓冲液</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加入参数。</font></font></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在3.4版本中更改：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">defaultTest</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数改为同时接受测试名称的迭代。</font></font></p>
</div>
</dd></dl>

<div class="section" id="load-tests-protocol">
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">load_tests协议</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#load-tests-protocol" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h4>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块或包可以通过实现调用的函数来定制在正常测试运行或测试发现期间如何从中加载测试</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果测试模块定义</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它将
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.loadTestsFromModule" title="unittest.TestLoader.loadTestsFromModule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestLoader.loadTestsFromModule()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用以下参数调用：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">load_tests</span><span class="p">(</span><span class="n">loader</span><span class="p">,</span> <span class="n">standard_tests</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其中，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接通过从传递</font></font><code class="docutils literal notranslate"><span class="pre">loadTestsFromModule</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它默认为</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它应该返回一个</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loader</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是进行</font><em><font style="vertical-align: inherit;">加载</font></em><font style="vertical-align: inherit;">的实例</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader" title="unittest.TestLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestLoader</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">standard_tests</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是默认从模块加载的测试。</font><font style="vertical-align: inherit;">测试模块通常只想在标准测试集中添加或删除测试。</font><font style="vertical-align: inherit;">在将包作为测试发现的一部分加载时使用第三个参数。</font></font></p>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从一组特定</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类</font><font style="vertical-align: inherit;">加载测试的</font><font style="vertical-align: inherit;">典型</font><font style="vertical-align: inherit;">函数
 </font><font style="vertical-align: inherit;">可能如下所示：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">test_cases</span> <span class="o">=</span> <span class="p">(</span><span class="n">TestCase1</span><span class="p">,</span> <span class="n">TestCase2</span><span class="p">,</span> <span class="n">TestCase3</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">load_tests</span><span class="p">(</span><span class="n">loader</span><span class="p">,</span> <span class="n">tests</span><span class="p">,</span> <span class="n">pattern</span><span class="p">):</span>
    <span class="n">suite</span> <span class="o">=</span> <span class="n">TestSuite</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">test_class</span> <span class="ow">in</span> <span class="n">test_cases</span><span class="p">:</span>
        <span class="n">tests</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">loadTestsFromTestCase</span><span class="p">(</span><span class="n">test_class</span><span class="p">)</span>
        <span class="n">suite</span><span class="o">.</span><span class="n">addTests</span><span class="p">(</span><span class="n">tests</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">suite</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在包含程序包的目录中启动发现，无论是从命令行还是通过调用</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.discover" title="unittest.TestLoader.discover"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TestLoader.discover()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="file docutils literal notranslate"><span class="pre">__init__.py</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都将检查</font><font style="vertical-align: inherit;">包
 </font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果该函数不存在，则发现将递归到包中，就像它只是另一个目录一样。</font><font style="vertical-align: inherit;">否则，将</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用以下参数调用</font><font style="vertical-align: inherit;">发现包的测试</font><font style="vertical-align: inherit;">：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">load_tests</span><span class="p">(</span><span class="n">loader</span><span class="p">,</span> <span class="n">standard_tests</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这应该返回一个</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代表包中的所有测试。</font><font style="vertical-align: inherit;">（</font></font><code class="docutils literal notranslate"><span class="pre">standard_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅包含从中收集的测试</font></font><code class="file docutils literal notranslate"><span class="pre">__init__.py</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为模式传递到</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包中可以自由地继续（并可能修改）测试发现。</font></font><code class="docutils literal notranslate"><span class="pre">load_tests</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试包的</font><font style="vertical-align: inherit;">“不执行任何操作”
 </font><font style="vertical-align: inherit;">功能如下所示：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">load_tests</span><span class="p">(</span><span class="n">loader</span><span class="p">,</span> <span class="n">standard_tests</span><span class="p">,</span> <span class="n">pattern</span><span class="p">):</span>
    <span class="c1"># top level directory cached on loader instance</span>
    <span class="n">this_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
    <span class="n">package_tests</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">discover</span><span class="p">(</span><span class="n">start_dir</span><span class="o">=</span><span class="n">this_dir</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="n">pattern</span><span class="p">)</span>
    <span class="n">standard_tests</span><span class="o">.</span><span class="n">addTests</span><span class="p">(</span><span class="n">package_tests</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">standard_tests</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在3.5版本中改变：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发现不再检查包名匹配</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，由于匹配的默认模式包名是不可能的。</font></font></p>
</div>
</div>
</div>
</div>
<div class="section" id="class-and-module-fixtures">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类和模块夹具</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#class-and-module-fixtures" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类和模块级夹具在中实现</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestSuite" title="unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">当测试套件遇到来自新类的测试时，</font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">tearDownClass()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
则调用前一个类（如果有的话），然后调用
 </font></font><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUpClass()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新类。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同样，如果测试来自与先前测试不同的模块，
 </font></font><code class="docutils literal notranslate"><span class="pre">tearDownModule</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则运行上一个模块，然后运行
 </font></font><code class="docutils literal notranslate"><span class="pre">setUpModule</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新模块。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在所有测试都运行完毕</font></font><code class="docutils literal notranslate"><span class="pre">tearDownClass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
 </font></font><code class="docutils literal notranslate"><span class="pre">tearDownModule</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行之后。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，共享夹具与[潜在]功能（如测试并行化）不能很好地兼容，并且会破坏测试隔离。</font><font style="vertical-align: inherit;">应小心使用它们。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unittest测试加载器创建的测试的默认顺序是将来自相同模块和类的所有测试组合在一起。</font><font style="vertical-align: inherit;">这将导致
 </font><font style="vertical-align: inherit;">每个类和模块只调用一次</font></font><code class="docutils literal notranslate"><span class="pre">setUpClass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code class="docutils literal notranslate"><span class="pre">setUpModule</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（etc）。</font><font style="vertical-align: inherit;">如果随机化顺序，以便来自不同模块和类的测试彼此相邻，则可以在单个测试运行中多次调用这些共享夹具函数。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共享装置不适用于具有非标准订购的套件。</font><font style="vertical-align: inherit;">一个</font></font><code class="docutils literal notranslate"><span class="pre">BaseTestSuite</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仍然存在不希望支持共享夹具框架。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在其中一个共享夹具功能期间引发任何异常，则将测试报告为错误。</font><font style="vertical-align: inherit;">因为没有相应的测试实例</font></font><code class="docutils literal notranslate"><span class="pre">_ErrorHolder</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所以创建了</font><font style="vertical-align: inherit;">一个</font><font style="vertical-align: inherit;">对象（具有与a相同的接口
 </font><font style="vertical-align: inherit;">）来表示错误。</font><font style="vertical-align: inherit;">如果您只是使用标准的unittest测试运行器，那么这个细节并不重要，但如果您是框架作者，它可能是相关的。</font></font></p>
<div class="section" id="setupclass-and-teardownclass">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setUpClass和tearDownClass </font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#setupclass-and-teardownclass" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些必须作为类方法实现：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unittest</span>

<span class="k">class</span> <span class="nc">Test</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">setUpClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span> <span class="o">=</span> <span class="n">createExpensiveConnectionObject</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">tearDownClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您希望</font></font><code class="docutils literal notranslate"><span class="pre">setUpClass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="docutils literal notranslate"><span class="pre">tearDownClass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">呼吁然后在基类必须调用由他们自己。</font><font style="vertical-align: inherit;">实现
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase" title="unittest.TestCase生成"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是空的。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在a期间引发异常，</font></font><code class="docutils literal notranslate"><span class="pre">setUpClass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么类中的测试不会运行且</font></font><code class="docutils literal notranslate"><span class="pre">tearDownClass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会运行。</font><font style="vertical-align: inherit;">跳过的课程不会有</font></font><code class="docutils literal notranslate"><span class="pre">setUpClass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">没有</font></font><code class="docutils literal notranslate"><span class="pre">tearDownClass</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果异常是一个
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.SkipTest" title="unittest.SkipTest"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SkipTest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常，那么该类将被报告为已跳过而不是错误。</font></font></p>
</div>
<div class="section" id="setupmodule-and-teardownmodule">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setUpModule和tearDownModule </font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#setupmodule-and-teardownmodule" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些应该作为功能实现：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">setUpModule</span><span class="p">():</span>
    <span class="n">createConnection</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">tearDownModule</span><span class="p">():</span>
    <span class="n">closeConnection</span><span class="p">()</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在a中引发异常则</font></font><code class="docutils literal notranslate"><span class="pre">setUpModule</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块</font><font style="vertical-align: inherit;">中的</font><font style="vertical-align: inherit;">任何测试都不会运行且</font></font><code class="docutils literal notranslate"><span class="pre">tearDownModule</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会运行。</font><font style="vertical-align: inherit;">如果异常是
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.SkipTest" title="unittest.SkipTest"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SkipTest</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常，则模块将被报告为已跳过而不是错误。</font></font></p>
</div>
</div>
<div class="section" id="signal-handling">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信号处理</font></font><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#signal-handling" title="永久链接到这个标题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<div class="versionadded">
<p><span class="versionmodified"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本3.2中的新功能。</font></font></span></p>
</div>
<p><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#cmdoption-unittest-c"><code class="xref std std-option docutils literal notranslate"><span class="pre">-c/--catch</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unittest </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">命令行选项以及</font></font><code class="docutils literal notranslate"><span class="pre">catchbreak</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数to </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.main" title="unittest.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">unittest.main()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在测试运行期间提供了对控制-C的更友好的处理。</font><font style="vertical-align: inherit;">启用catch中断行为后，control-C将允许当前正在运行的测试完成，然后测试运行将结束并报告所有结果。</font><font style="vertical-align: inherit;">第二个控制-c将以</font></font><a class="reference internal" href="https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt" title="一个KeyboardInterrupt"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常的方式</font><font style="vertical-align: inherit;">提升a </font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">control-c处理信号处理程序尝试与安装自己的</font></font><code class="xref py py-const docutils literal notranslate"><span class="pre">signal.SIGINT</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理程序的</font><font style="vertical-align: inherit;">代码或测试保持兼容</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果</font></font><code class="docutils literal notranslate"><span class="pre">unittest</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
处理程序被调用但</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不是</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已安装的</font></font><code class="xref py py-const docutils literal notranslate"><span class="pre">signal.SIGINT</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理程序，即它已被测试中的系统替换并委托给它，那么它将调用默认处理程序。</font><font style="vertical-align: inherit;">这通常是代码替换已安装的处理程序并委托给它的预期行为。</font><font style="vertical-align: inherit;">对于需要</font></font><code class="docutils literal notranslate"><span class="pre">unittest</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用control-c处理的</font><font style="vertical-align: inherit;">单个测试，</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.removeHandler" title="unittest.removeHandler"><code class="xref py py-func docutils literal notranslate"><span class="pre">removeHandler()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可以使用装饰器。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">框架作者有一些实用程序函数可以在测试框架中启用control-c处理功能。</font></font></p>
<dl class="function">
<dt id="unittest.installHandler">
<code class="descclassname">unittest.</code><code class="descname">installHandler</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.installHandler" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装control-c处理程序。</font><font style="vertical-align: inherit;">当</font></font><code class="xref py py-const docutils literal notranslate"><span class="pre">signal.SIGINT</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收到a时（通常是响应用户按下control-c），所有注册的结果都</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.stop" title="unittest.TestResult.stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stop()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被调用。</font></font></p>
</dd></dl>

<dl class="function">
<dt id="unittest.registerResult">
<code class="descclassname">unittest.</code><code class="descname">registerResult</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.registerResult" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册一个</font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象以进行control-c处理。</font><font style="vertical-align: inherit;">注册结果会存储对它的弱引用，因此不会阻止结果被垃圾回收。</font></font></p>
<p><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult" title="unittest.TestResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestResult</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果未启用control-c处理，则</font><font style="vertical-align: inherit;">注册</font><font style="vertical-align: inherit;">对象没有副作用，因此测试框架可以无条件地注册它们创建的所有结果，而与是否启用处理无关。</font></font></p>
</dd></dl>

<dl class="function">
<dt id="unittest.removeResult">
<code class="descclassname">unittest.</code><code class="descname">removeResult</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果</font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.removeResult" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除注册结果。</font><font style="vertical-align: inherit;">删除结果后，
 </font></font><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#unittest.TestResult.stop" title="unittest.TestResult.stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stop()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将不再响应control-c调用该结果对象。</font></font></p>
</dd></dl>

<dl class="function">
<dt id="unittest.removeHandler">
<code class="descclassname">unittest.</code><code class="descname">removeHandler</code><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">function = None </font></font></em><span class="sig-paren"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><a class="headerlink" href="https://docs.python.org/3/library/unittest.html#unittest.removeHandler" title="这个定义的固定链接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果不带参数调用此函数，则删除control-c处理程序（如果已安装）。</font><font style="vertical-align: inherit;">此函数还可以用作测试装饰器，以便在执行测试时临时删除处理程序：</font></font></p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="nd">@unittest</span><span class="o">.</span><span class="n">removeHandler</span>
<span class="k">def</span> <span class="nf">test_signal_handling</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper" style="float: left; margin-right: 0px; width: 202px; top: 30983.5px;">
  <h3><a href="https://docs.python.org/3/contents.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></a></h3>
  <ul>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#"><code class="docutils literal notranslate"><span class="pre">unittest</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 单元测试框架</font></font></a><ul>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#basic-example"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本的例子</font></font></a></li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#command-line-interface"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行界面</font></font></a><ul>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#command-line-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行选项</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#test-discovery"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试发现</font></font></a></li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#organizing-test-code"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组织测试代码</font></font></a></li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#re-using-old-test-code"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重用旧的测试代码</font></font></a></li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#skipping-tests-and-expected-failures"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跳过测试和预期的失败</font></font></a></li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#distinguishing-test-iterations-using-subtests"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用子测试区分测试迭代</font></font></a></li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#classes-and-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类和函数</font></font></a><ul>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#test-cases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试用例</font></font></a><ul>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#deprecated-aliases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不推荐使用的别名</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#grouping-tests"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分组测试</font></font></a></li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#loading-and-running-tests"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加载和运行测试</font></font></a><ul>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#load-tests-protocol"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">load_tests协议</font></font></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#class-and-module-fixtures"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类和模块夹具</font></font></a><ul>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#setupclass-and-teardownclass"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setUpClass和tearDownClass</font></font></a></li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#setupmodule-and-teardownmodule"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setUpModule和tearDownModule</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/3/library/unittest.html#signal-handling"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信号处理</font></font></a></li>
</ul>
</li>
</ul>

  <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一主题</font></font></h4>
  <p class="topless"><a href="https://docs.python.org/3/library/doctest.html" title="前一章"><code class="docutils literal notranslate"><span class="pre">doctest</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 测试交互式Python示例</font></font></a></p>
  <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个主题</font></font></h4>
  <p class="topless"><a href="https://docs.python.org/3/library/unittest.mock.html" title="下一章"><code class="docutils literal notranslate"><span class="pre">unittest.mock</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 模拟对象库</font></font></a></p>
  <div role="note" aria-label="source link">
    <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这一页</font></font></h3>
    <ul class="this-page-menu">
      <li><a href="https://docs.python.org/3/bugs.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告错误</font></font></a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.7/Doc/library/unittest.rst" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示来源
        </font></font></a>
      </li>
    </ul>
  </div>
        </div>
      <div id="sidebarbutton" title="折叠侧边栏" style="border-radius: 0px 5px 5px 0px; color: rgb(68, 68, 68); background-color: rgb(204, 204, 204); font-size: 1.2em; cursor: pointer; height: 36113.6px; padding-top: 1px; padding-left: 1px; margin-left: 218px;"><span style="display: block; position: fixed; top: 339px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«</font></font></span></div></div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导航</font></font></h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="https://docs.python.org/3/genindex.html" title="一般指数"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指数</font></font></a></li>
        <li class="right">
          <a href="https://docs.python.org/3/py-modindex.html" title="Python模块索引"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> |</font></font></li>
        <li class="right">
          <a href="https://docs.python.org/3/library/unittest.mock.html" title="unittest.mock  - 模拟对象库"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> |</font></font></li>
        <li class="right">
          <a href="https://docs.python.org/3/library/doctest.html" title="doctest  - 测试交互式Python示例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一个</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> |</font></font></li>
        <li><img src="./unittest-单元测试框架-Python 3.7.3文档_files/py.png" alt="" style="vertical-align: middle; margin-top: -1px"></li>
        <li><a href="https://www.python.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li>
        <li>
          <span class="language_switcher_placeholder"><select><option value="en" selected="selected"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">英语</font></font></option><option value="fr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">法国</font></font></option><option value="ja"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日本</font></font></option><option value="ko"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">朝鲜的</font></font></option></select></span>
          <span class="version_switcher_placeholder"><select><option value="3.8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发（3.8）</font></font></option><option value="3.7" selected="selected"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.7.3</font></font></option><option value="3.6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6</font></font></option><option value="3.5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5</font></font></option><option value="2.7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7</font></font></option></select></span>
          <a href="https://docs.python.org/3/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »
        </font></font></li>

          <li class="nav-item nav-item-1"><a href="https://docs.python.org/3/library/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python标准库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li>
          <li class="nav-item nav-item-2"><a href="https://docs.python.org/3/library/development.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发工具</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li>
    <li class="right">
        

    <div class="inline-search" style="" role="search">
        <form class="inline-search" action="https://docs.python.org/3/search.html" method="get">
          <input placeholder="Quick search" type="text" name="q">
          <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><input type="submit" value="走"></font></font>
          <input type="hidden" name="check_keywords" value="yes">
          <input type="hidden" name="area" value="default">
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         |
    </font></font></li>

      </ul>
    </div>  
    <div class="footer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    © </font></font><a href="https://docs.python.org/3/copyright.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2001-2019，Python Software Foundation。
    </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    Python软件基金会是一家非营利性公司。
    </font></font><a href="https://www.python.org/psf/donations/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请捐款。</font></font></a>
    <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    最后更新于201年3月28日。
     </font></font><a href="https://docs.python.org/3/bugs.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发现了一个错误</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？
    </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    使用</font></font><a href="http://sphinx.pocoo.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sphinx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1.8.4 </font><font style="vertical-align: inherit;">创建</font><font style="vertical-align: inherit;">。
    </font></font></div><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./unittest-单元测试框架-Python 3.7.3文档_files/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>

  
<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>